(()=>{var e={9892:(e,t,r)=>{"use strict";var n=r(210),o=r(1924),i=n("%TypeError%"),s=r(9582),a=r(317),l=r(4741),u=r(9739),c=r(4653),d=r(9058),p=r(561),f=r(9981),h=o("String.prototype.split"),y=Object("a"),g="a"!==y[0]||!(0 in y);e.exports=function(e){var t,r=d(this),n=g&&f(this)?h(this,""):r,o=c(n);if(!u(e))throw new i("Array.prototype.forEach callback must be a function");arguments.length>1&&(t=arguments[1]);for(var y=0;y<o;){var m=p(y),v=l(n,m);if(v){var b=a(n,m);s(e,t,[b,y,n])}y+=1}}},2026:(e,t,r)=>{"use strict";var n=r(4289),o=r(5559),i=r(1924),s=r(6378),a=r(9892),l=r(9306),u=l(),c=r(1143),d=i("Array.prototype.slice"),p=o.apply(u),f=function(e,t){return s(e),p(e,d(arguments,1))};n(f,{getPolyfill:l,implementation:a,shim:c}),e.exports=f},9306:(e,t,r)=>{"use strict";var n=r(2868),o=r(9892);e.exports=function(){var e=Array.prototype.forEach;return n(e)?e:o}},1143:(e,t,r)=>{"use strict";var n=r(4289),o=r(9306);e.exports=function(){var e=o();return n(Array.prototype,{forEach:e},{forEach:function(){return Array.prototype.forEach!==e}}),e}},1924:(e,t,r)=>{"use strict";var n=r(210),o=r(5559),i=o(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?o(r):r}},5559:(e,t,r)=>{"use strict";var n=r(8612),o=r(210),i=o("%Function.prototype.apply%"),s=o("%Function.prototype.call%"),a=o("%Reflect.apply%",!0)||n.call(s,i),l=o("%Object.getOwnPropertyDescriptor%",!0),u=o("%Object.defineProperty%",!0),c=o("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){var t=a(n,s,arguments);if(l&&u){var r=l(t,"length");r.configurable&&u(t,"length",{value:1+c(0,e.length-(arguments.length-1))})}return t};var d=function(){return a(n,i,arguments)};u?u(e.exports,"apply",{value:d}):e.exports.apply=d},4289:(e,t,r)=>{"use strict";var n=r(2215),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,l=a&&function(){var e={};try{for(var t in a(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),u=function(e,t,r,n){var o;(!(t in e)||"function"==typeof(o=n)&&"[object Function]"===i.call(o)&&n())&&(l?a(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},c=function(e,t){var r=arguments.length>2?arguments[2]:{},i=n(t);o&&(i=s.call(i,Object.getOwnPropertySymbols(t)));for(var a=0;a<i.length;a+=1)u(e,i[a],t[i[a]],r[i[a]])};c.supportsDescriptors=!!l,e.exports=c},9582:(e,t,r)=>{"use strict";var n=r(210),o=r(1924),i=n("%TypeError%"),s=r(9340),a=n("%Reflect.apply%",!0)||o("%Function.prototype.apply%");e.exports=function(e,t){var r=arguments.length>2?arguments[2]:[];if(!s(r))throw new i("Assertion failed: optional `argumentsList`, if provided, must be a List");return a(e,t,r)}},317:(e,t,r)=>{"use strict";var n=r(210)("%TypeError%"),o=r(631),i=r(4220),s=r(4300);e.exports=function(e,t){if("Object"!==s(e))throw new n("Assertion failed: Type(O) is not Object");if(!i(t))throw new n("Assertion failed: IsPropertyKey(P) is not true, got "+o(t));return e[t]}},4741:(e,t,r)=>{"use strict";var n=r(210)("%TypeError%"),o=r(4220),i=r(4300);e.exports=function(e,t){if("Object"!==i(e))throw new n("Assertion failed: `O` must be an Object");if(!o(t))throw new n("Assertion failed: `P` must be a Property Key");return t in e}},9340:(e,t,r)=>{"use strict";var n=r(210)("%Array%"),o=!n.isArray&&r(1924)("Object.prototype.toString");e.exports=n.isArray||function(e){return"[object Array]"===o(e)}},9739:(e,t,r)=>{"use strict";e.exports=r(5320)},4220:e=>{"use strict";e.exports=function(e){return"string"==typeof e||"symbol"==typeof e}},4653:(e,t,r)=>{"use strict";var n=r(210)("%TypeError%"),o=r(317),i=r(4840),s=r(4300);e.exports=function(e){if("Object"!==s(e))throw new n("Assertion failed: `obj` must be an Object");return i(o(e,"length"))}},6378:(e,t,r)=>{"use strict";e.exports=r(8631)},8974:(e,t,r)=>{"use strict";var n=r(7195),o=r(9157);e.exports=function(e){var t=o(e);return 0!==t&&(t=n(t)),0===t?0:t}},4840:(e,t,r)=>{"use strict";var n=r(5376),o=r(8974);e.exports=function(e){var t=o(e);return t<=0?0:t>n?n:t}},9157:(e,t,r)=>{"use strict";var n=r(210),o=n("%TypeError%"),i=n("%Number%"),s=n("%RegExp%"),a=n("%parseInt%"),l=r(1924),u=r(1652),c=r(3126),d=l("String.prototype.slice"),p=u(/^0b[01]+$/i),f=u(/^0o[0-7]+$/i),h=u(/^[-+]0x[0-9a-f]+$/i),y=u(new s("["+["\x85","\u200b","\ufffe"].join("")+"]","g")),g=["\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join(""),m=new RegExp("(^["+g+"]+)|(["+g+"]+$)","g"),v=l("String.prototype.replace"),b=r(2159);e.exports=function e(t){var r=c(t)?t:b(t,i);if("symbol"==typeof r)throw new o("Cannot convert a Symbol value to a number");if("bigint"==typeof r)throw new o("Conversion from 'BigInt' to 'number' is not allowed.");if("string"==typeof r){if(p(r))return e(a(d(r,2),2));if(f(r))return e(a(d(r,2),8));if(y(r)||h(r))return NaN;var n=function(e){return v(e,m,"")}(r);if(n!==r)return e(n)}return i(r)}},9058:(e,t,r)=>{"use strict";var n=r(210)("%Object%"),o=r(6378);e.exports=function(e){return o(e),n(e)}},2159:(e,t,r)=>{"use strict";var n=r(1503);e.exports=function(e){return arguments.length>1?n(e,arguments[1]):n(e)}},561:(e,t,r)=>{"use strict";var n=r(210),o=n("%String%"),i=n("%TypeError%");e.exports=function(e){if("symbol"==typeof e)throw new i("Cannot convert a Symbol value to a string");return o(e)}},4300:(e,t,r)=>{"use strict";var n=r(1276);e.exports=function(e){return"symbol"==typeof e?"Symbol":"bigint"==typeof e?"BigInt":n(e)}},8631:(e,t,r)=>{"use strict";var n=r(210)("%TypeError%");e.exports=function(e,t){if(null==e)throw new n(t||"Cannot call method on "+e);return e}},7195:(e,t,r)=>{"use strict";var n=r(2683),o=r(9711),i=r(7196),s=r(1214),a=r(3060),l=r(4099);e.exports=function(e){var t=i(e);return s(t)?0:0!==t&&a(t)?l(t)*o(n(t)):t}},7196:(e,t,r)=>{"use strict";var n=r(1318);e.exports=function(e){var t=n(e,Number);if("string"!=typeof t)return+t;var r=t.replace(/^[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+|[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+$/g,"");return/^0[ob]|^[+-]0x/.test(r)?NaN:+r}},1318:(e,t,r)=>{"use strict";e.exports=r(2116)},1276:e=>{"use strict";e.exports=function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0}},2683:(e,t,r)=>{"use strict";var n=r(210)("%Math.abs%");e.exports=function(e){return n(e)}},9711:e=>{"use strict";var t=Math.floor;e.exports=function(e){return t(e)}},3060:e=>{"use strict";var t=Number.isNaN||function(e){return e!=e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!t(e)&&e!==1/0&&e!==-1/0}},1214:e=>{"use strict";e.exports=Number.isNaN||function(e){return e!=e}},3126:e=>{"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},5376:(e,t,r)=>{"use strict";var n=r(210),o=n("%Math%"),i=n("%Number%");e.exports=i.MAX_SAFE_INTEGER||o.pow(2,53)-1},1652:(e,t,r)=>{"use strict";var n=r(210)("RegExp.prototype.test"),o=r(5559);e.exports=function(e){return o(n,e)}},4099:e=>{"use strict";e.exports=function(e){return e>=0?1:-1}},2868:e=>{e.exports=function(e){var t=!0,r=!0,n=!1;if("function"==typeof e){try{e.call("f",(function(e,r,n){"object"!=typeof n&&(t=!1)})),e.call([null],(function(){"use strict";r="string"==typeof this}),"x")}catch(e){n=!0}return!n&&t&&r}return!1}},1503:(e,t,r)=>{"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,o=r(4149),i=r(5320),s=r(8923),a=r(2636),l=function(e,t){if(null==e)throw new TypeError("Cannot call method on "+e);if("string"!=typeof t||"number"!==t&&"string"!==t)throw new TypeError('hint must be "string" or "number"');var r,n,s,a="string"===t?["toString","valueOf"]:["valueOf","toString"];for(s=0;s<a.length;++s)if(r=e[a[s]],i(r)&&(n=r.call(e),o(n)))return n;throw new TypeError("No default value")},u=function(e,t){var r=e[t];if(null!=r){if(!i(r))throw new TypeError(r+" returned for property "+t+" of object "+e+" is not a function");return r}};e.exports=function(e){if(o(e))return e;var t,r="default";if(arguments.length>1&&(arguments[1]===String?r="string":arguments[1]===Number&&(r="number")),n&&(Symbol.toPrimitive?t=u(e,Symbol.toPrimitive):a(e)&&(t=Symbol.prototype.valueOf)),void 0!==t){var i=t.call(e,r);if(o(i))return i;throw new TypeError("unable to convert exotic object to primitive")}return"default"===r&&(s(e)||a(e))&&(r="string"),l(e,"default"===r?"number":r)}},2116:(e,t,r)=>{"use strict";var n=Object.prototype.toString,o=r(4149),i=r(5320),s=function(e){var t;if((t=arguments.length>1?arguments[1]:"[object Date]"===n.call(e)?String:Number)===String||t===Number){var r,s,a=t===String?["toString","valueOf"]:["valueOf","toString"];for(s=0;s<a.length;++s)if(i(e[a[s]])&&(r=e[a[s]](),o(r)))return r;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")};e.exports=function(e){return o(e)?e:arguments.length>1?s(e,arguments[1]):s(e)}},4149:e=>{"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},7648:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,o="[object Function]";e.exports=function(e){var i=this;if("function"!=typeof i||n.call(i)!==o)throw new TypeError(t+i);for(var s,a=r.call(arguments,1),l=function(){if(this instanceof s){var t=i.apply(this,a.concat(r.call(arguments)));return Object(t)===t?t:this}return i.apply(e,a.concat(r.call(arguments)))},u=Math.max(0,i.length-a.length),c=[],d=0;d<u;d++)c.push("$"+d);if(s=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(l),i.prototype){var p=function(){};p.prototype=i.prototype,s.prototype=new p,p.prototype=null}return s}},8612:(e,t,r)=>{"use strict";var n=r(7648);e.exports=Function.prototype.bind||n},210:(e,t,r)=>{"use strict";var n,o=SyntaxError,i=Function,s=TypeError,a=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var u=function(){throw new s},c=l?function(){try{return u}catch(e){try{return l(arguments,"callee").get}catch(e){return u}}}():u,d=r(1405)(),p=Object.getPrototypeOf||function(e){return e.__proto__},f={},h="undefined"==typeof Uint8Array?n:p(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":d?p([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?p(p([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?p((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?p((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?p(""[Symbol.iterator]()):n,"%Symbol%":d?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":c,"%TypedArray%":h,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},g=function e(t){var r;if("%AsyncFunction%"===t)r=a("async function () {}");else if("%GeneratorFunction%"===t)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=a("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(r=p(o.prototype))}return y[t]=r,r},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=r(8612),b=r(7642),_=v.call(Function.call,Array.prototype.concat),S=v.call(Function.apply,Array.prototype.splice),w=v.call(Function.call,String.prototype.replace),k=v.call(Function.call,String.prototype.slice),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,x=/\\(\\)?/g,T=function(e){var t=k(e,0,1),r=k(e,-1);if("%"===t&&"%"!==r)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var n=[];return w(e,E,(function(e,t,r,o){n[n.length]=r?w(o,x,"$1"):t||e})),n},A=function(e,t){var r,n=e;if(b(m,n)&&(n="%"+(r=m[n])[0]+"%"),b(y,n)){var i=y[n];if(i===f&&(i=g(n)),void 0===i&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');var r=T(e),n=r.length>0?r[0]:"",i=A("%"+n+"%",t),a=i.name,u=i.value,c=!1,d=i.alias;d&&(n=d[0],S(r,_([0,1],d)));for(var p=1,f=!0;p<r.length;p+=1){var h=r[p],g=k(h,0,1),m=k(h,-1);if(('"'===g||"'"===g||"`"===g||'"'===m||"'"===m||"`"===m)&&g!==m)throw new o("property names with quotes must have matching quotes");if("constructor"!==h&&f||(c=!0),b(y,a="%"+(n+="."+h)+"%"))u=y[a];else if(null!=u){if(!(h in u)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&p+1>=r.length){var v=l(u,h);u=(f=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:u[h]}else f=b(u,h),u=u[h];f&&!c&&(y[a]=u)}}return u}},1405:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(5419);e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},5419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},6410:(e,t,r)=>{"use strict";var n=r(5419);e.exports=function(){return n()&&!!Symbol.toStringTag}},7642:(e,t,r)=>{"use strict";var n=r(8612);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},5320:e=>{"use strict";var t,r,n=Function.prototype.toString,o="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof o&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},o((function(){throw 42}),null,t)}catch(e){e!==r&&(o=null)}else o=null;var i=/^\s*class\b/,s=function(e){try{var t=n.call(e);return i.test(t)}catch(e){return!1}},a=Object.prototype.toString,l="function"==typeof Symbol&&!!Symbol.toStringTag,u="object"==typeof document&&void 0===document.all&&void 0!==document.all?document.all:{};e.exports=o?function(e){if(e===u)return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;try{o(e,null,t)}catch(e){if(e!==r)return!1}return!s(e)}:function(e){if(e===u)return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(l)return function(e){try{return!s(e)&&(n.call(e),!0)}catch(e){return!1}}(e);if(s(e))return!1;var t=a.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},8923:(e,t,r)=>{"use strict";var n=Date.prototype.getDay,o=Object.prototype.toString,i=r(6410)();e.exports=function(e){return"object"==typeof e&&null!==e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Date]"===o.call(e))}},9981:(e,t,r)=>{"use strict";var n=String.prototype.valueOf,o=Object.prototype.toString,i=r(6410)();e.exports=function(e){return"string"==typeof e||"object"==typeof e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object String]"===o.call(e))}},2636:(e,t,r)=>{"use strict";var n=Object.prototype.toString;if(r(1405)()){var o=Symbol.prototype.toString,i=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==n.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&i.test(o.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},3465:(e,t,r)=>{e=r.nmd(e);var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object Boolean]",a="[object Date]",l="[object Function]",u="[object GeneratorFunction]",c="[object Map]",d="[object Number]",p="[object Object]",f="[object Promise]",h="[object RegExp]",y="[object Set]",g="[object String]",m="[object Symbol]",v="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",S="[object Float32Array]",w="[object Float64Array]",k="[object Int8Array]",E="[object Int16Array]",x="[object Int32Array]",T="[object Uint8Array]",A="[object Uint8ClampedArray]",P="[object Uint16Array]",I="[object Uint32Array]",O=/\w*$/,R=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,C={};C[i]=C["[object Array]"]=C[b]=C[_]=C[s]=C[a]=C[S]=C[w]=C[k]=C[E]=C[x]=C[c]=C[d]=C[p]=C[h]=C[y]=C[g]=C[m]=C[T]=C[A]=C[P]=C[I]=!0,C["[object Error]"]=C[l]=C[v]=!1;var L="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,N="object"==typeof self&&self&&self.Object===Object&&self,M=L||N||Function("return this")(),D=t&&!t.nodeType&&t,B=D&&e&&!e.nodeType&&e,U=B&&B.exports===D;function F(e,t){return e.set(t[0],t[1]),e}function $(e,t){return e.add(t),e}function z(e,t,r,n){var o=-1,i=e?e.length:0;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}function V(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function q(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function K(e,t){return function(r){return e(t(r))}}function W(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var H,G=Array.prototype,J=Function.prototype,Y=Object.prototype,Q=M["__core-js_shared__"],X=(H=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"",Z=J.toString,ee=Y.hasOwnProperty,te=Y.toString,re=RegExp("^"+Z.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=U?M.Buffer:void 0,oe=M.Symbol,ie=M.Uint8Array,se=K(Object.getPrototypeOf,Object),ae=Object.create,le=Y.propertyIsEnumerable,ue=G.splice,ce=Object.getOwnPropertySymbols,de=ne?ne.isBuffer:void 0,pe=K(Object.keys,Object),fe=Be(M,"DataView"),he=Be(M,"Map"),ye=Be(M,"Promise"),ge=Be(M,"Set"),me=Be(M,"WeakMap"),ve=Be(Object,"create"),be=Ve(fe),_e=Ve(he),Se=Ve(ye),we=Ve(ge),ke=Ve(me),Ee=oe?oe.prototype:void 0,xe=Ee?Ee.valueOf:void 0;function Te(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ae(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Pe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ie(e){this.__data__=new Ae(e)}function Oe(e,t){var r=Ke(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&We(e)}(e)&&ee.call(e,"callee")&&(!le.call(e,"callee")||te.call(e)==i)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,o=!!n;for(var s in e)!t&&!ee.call(e,s)||o&&("length"==s||$e(s,n))||r.push(s);return r}function Re(e,t,r){var n=e[t];ee.call(e,t)&&qe(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function je(e,t){for(var r=e.length;r--;)if(qe(e[r][0],t))return r;return-1}function Ce(e,t,r,n,o,f,v){var R;if(n&&(R=f?n(e,o,f,v):n(e)),void 0!==R)return R;if(!Je(e))return e;var j=Ke(e);if(j){if(R=function(e){var t=e.length,r=e.constructor(t);t&&"string"==typeof e[0]&&ee.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!t)return function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(e,R)}else{var L=Fe(e),N=L==l||L==u;if(He(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if(L==p||L==i||N&&!f){if(V(e))return f?e:{};if(R=function(e){return"function"!=typeof e.constructor||ze(e)?{}:(t=se(e),Je(t)?ae(t):{});var t}(N?{}:e),!t)return function(e,t){return Me(e,Ue(e),t)}(e,function(e,t){return e&&Me(t,Ye(t),e)}(R,e))}else{if(!C[L])return f?e:{};R=function(e,t,r,n){var o=e.constructor;switch(t){case b:return Ne(e);case s:case a:return new o(+e);case _:return function(e,t){var r=t?Ne(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case S:case w:case k:case E:case x:case T:case A:case P:case I:return function(e,t){var r=t?Ne(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case c:return function(e,t,r){return z(t?r(q(e),!0):q(e),F,new e.constructor)}(e,n,r);case d:case g:return new o(e);case h:return function(e){var t=new e.constructor(e.source,O.exec(e));return t.lastIndex=e.lastIndex,t}(e);case y:return function(e,t,r){return z(t?r(W(e),!0):W(e),$,new e.constructor)}(e,n,r);case m:return i=e,xe?Object(xe.call(i)):{}}var i}(e,L,Ce,t)}}v||(v=new Ie);var M=v.get(e);if(M)return M;if(v.set(e,R),!j)var D=r?function(e){return function(e,t,r){var n=t(e);return Ke(e)?n:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(n,r(e))}(e,Ye,Ue)}(e):Ye(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););}(D||e,(function(o,i){D&&(o=e[i=o]),Re(R,i,Ce(o,t,r,n,i,e,v))})),R}function Le(e){return!(!Je(e)||(t=e,X&&X in t))&&(Ge(e)||V(e)?re:R).test(Ve(e));var t}function Ne(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function Me(e,t,r,n){r||(r={});for(var o=-1,i=t.length;++o<i;){var s=t[o],a=n?n(r[s],e[s],s,r,e):void 0;Re(r,s,void 0===a?e[s]:a)}return r}function De(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function Be(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Le(r)?r:void 0}Te.prototype.clear=function(){this.__data__=ve?ve(null):{}},Te.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Te.prototype.get=function(e){var t=this.__data__;if(ve){var r=t[e];return r===n?void 0:r}return ee.call(t,e)?t[e]:void 0},Te.prototype.has=function(e){var t=this.__data__;return ve?void 0!==t[e]:ee.call(t,e)},Te.prototype.set=function(e,t){return this.__data__[e]=ve&&void 0===t?n:t,this},Ae.prototype.clear=function(){this.__data__=[]},Ae.prototype.delete=function(e){var t=this.__data__,r=je(t,e);return!(r<0)&&(r==t.length-1?t.pop():ue.call(t,r,1),!0)},Ae.prototype.get=function(e){var t=this.__data__,r=je(t,e);return r<0?void 0:t[r][1]},Ae.prototype.has=function(e){return je(this.__data__,e)>-1},Ae.prototype.set=function(e,t){var r=this.__data__,n=je(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Pe.prototype.clear=function(){this.__data__={hash:new Te,map:new(he||Ae),string:new Te}},Pe.prototype.delete=function(e){return De(this,e).delete(e)},Pe.prototype.get=function(e){return De(this,e).get(e)},Pe.prototype.has=function(e){return De(this,e).has(e)},Pe.prototype.set=function(e,t){return De(this,e).set(e,t),this},Ie.prototype.clear=function(){this.__data__=new Ae},Ie.prototype.delete=function(e){return this.__data__.delete(e)},Ie.prototype.get=function(e){return this.__data__.get(e)},Ie.prototype.has=function(e){return this.__data__.has(e)},Ie.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ae){var n=r.__data__;if(!he||n.length<199)return n.push([e,t]),this;r=this.__data__=new Pe(n)}return r.set(e,t),this};var Ue=ce?K(ce,Object):function(){return[]},Fe=function(e){return te.call(e)};function $e(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||j.test(e))&&e>-1&&e%1==0&&e<t}function ze(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Y)}function Ve(e){if(null!=e){try{return Z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function qe(e,t){return e===t||e!=e&&t!=t}(fe&&Fe(new fe(new ArrayBuffer(1)))!=_||he&&Fe(new he)!=c||ye&&Fe(ye.resolve())!=f||ge&&Fe(new ge)!=y||me&&Fe(new me)!=v)&&(Fe=function(e){var t=te.call(e),r=t==p?e.constructor:void 0,n=r?Ve(r):void 0;if(n)switch(n){case be:return _;case _e:return c;case Se:return f;case we:return y;case ke:return v}return t});var Ke=Array.isArray;function We(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}(e.length)&&!Ge(e)}var He=de||function(){return!1};function Ge(e){var t=Je(e)?te.call(e):"";return t==l||t==u}function Je(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ye(e){return We(e)?Oe(e):function(e){if(!ze(e))return pe(e);var t=[];for(var r in Object(e))ee.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}e.exports=function(e){return Ce(e,!0,!0)}},2307:(e,t,r)=>{e=r.nmd(e);var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",u="[object Error]",c="[object Function]",d="[object Map]",p="[object Number]",f="[object Object]",h="[object Promise]",y="[object RegExp]",g="[object Set]",m="[object String]",v="[object Symbol]",b="[object WeakMap]",_="[object ArrayBuffer]",S="[object DataView]",w=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,E={};E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E[i]=E[s]=E[_]=E[a]=E[S]=E[l]=E[u]=E[c]=E[d]=E[p]=E[f]=E[y]=E[g]=E[m]=E[b]=!1;var x="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,T="object"==typeof self&&self&&self.Object===Object&&self,A=x||T||Function("return this")(),P=t&&!t.nodeType&&t,I=P&&e&&!e.nodeType&&e,O=I&&I.exports===P,R=O&&x.process,j=function(){try{return R&&R.binding&&R.binding("util")}catch(e){}}(),C=j&&j.isTypedArray;function L(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function N(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function M(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var D,B,U,F=Array.prototype,$=Function.prototype,z=Object.prototype,V=A["__core-js_shared__"],q=$.toString,K=z.hasOwnProperty,W=(D=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"",H=z.toString,G=RegExp("^"+q.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),J=O?A.Buffer:void 0,Y=A.Symbol,Q=A.Uint8Array,X=z.propertyIsEnumerable,Z=F.splice,ee=Y?Y.toStringTag:void 0,te=Object.getOwnPropertySymbols,re=J?J.isBuffer:void 0,ne=(B=Object.keys,U=Object,function(e){return B(U(e))}),oe=je(A,"DataView"),ie=je(A,"Map"),se=je(A,"Promise"),ae=je(A,"Set"),le=je(A,"WeakMap"),ue=je(Object,"create"),ce=Me(oe),de=Me(ie),pe=Me(se),fe=Me(ae),he=Me(le),ye=Y?Y.prototype:void 0,ge=ye?ye.valueOf:void 0;function me(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ve(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function be(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function _e(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new be;++t<r;)this.add(e[t])}function Se(e){var t=this.__data__=new ve(e);this.size=t.size}function we(e,t){var r=Ue(e),n=!r&&Be(e),o=!r&&!n&&Fe(e),i=!r&&!n&&!o&&Ke(e),s=r||n||o||i,a=s?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=a.length;for(var u in e)!t&&!K.call(e,u)||s&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ne(u,l))||a.push(u);return a}function ke(e,t){for(var r=e.length;r--;)if(De(e[r][0],t))return r;return-1}function Ee(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ee&&ee in Object(e)?function(e){var t=K.call(e,ee),r=e[ee];try{e[ee]=void 0;var n=!0}catch(e){}var o=H.call(e);n&&(t?e[ee]=r:delete e[ee]);return o}(e):function(e){return H.call(e)}(e)}function xe(e){return qe(e)&&Ee(e)==i}function Te(e,t,r,n,o){return e===t||(null==e||null==t||!qe(e)&&!qe(t)?e!=e&&t!=t:function(e,t,r,n,o,c){var h=Ue(e),b=Ue(t),w=h?s:Le(e),k=b?s:Le(t),E=(w=w==i?f:w)==f,x=(k=k==i?f:k)==f,T=w==k;if(T&&Fe(e)){if(!Fe(t))return!1;h=!0,E=!1}if(T&&!E)return c||(c=new Se),h||Ke(e)?Ie(e,t,r,n,o,c):function(e,t,r,n,o,i,s){switch(r){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!i(new Q(e),new Q(t)));case a:case l:case p:return De(+e,+t);case u:return e.name==t.name&&e.message==t.message;case y:case m:return e==t+"";case d:var c=N;case g:var f=1&n;if(c||(c=M),e.size!=t.size&&!f)return!1;var h=s.get(e);if(h)return h==t;n|=2,s.set(e,t);var b=Ie(c(e),c(t),n,o,i,s);return s.delete(e),b;case v:if(ge)return ge.call(e)==ge.call(t)}return!1}(e,t,w,r,n,o,c);if(!(1&r)){var A=E&&K.call(e,"__wrapped__"),P=x&&K.call(t,"__wrapped__");if(A||P){var I=A?e.value():e,O=P?t.value():t;return c||(c=new Se),o(I,O,r,n,c)}}if(!T)return!1;return c||(c=new Se),function(e,t,r,n,o,i){var s=1&r,a=Oe(e),l=a.length,u=Oe(t).length;if(l!=u&&!s)return!1;var c=l;for(;c--;){var d=a[c];if(!(s?d in t:K.call(t,d)))return!1}var p=i.get(e);if(p&&i.get(t))return p==t;var f=!0;i.set(e,t),i.set(t,e);var h=s;for(;++c<l;){var y=e[d=a[c]],g=t[d];if(n)var m=s?n(g,y,d,t,e,i):n(y,g,d,e,t,i);if(!(void 0===m?y===g||o(y,g,r,n,i):m)){f=!1;break}h||(h="constructor"==d)}if(f&&!h){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(f=!1)}return i.delete(e),i.delete(t),f}(e,t,r,n,o,c)}(e,t,r,n,Te,o))}function Ae(e){return!(!Ve(e)||function(e){return!!W&&W in e}(e))&&($e(e)?G:w).test(Me(e))}function Pe(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||z,t!==n)return ne(e);var t,r,n,o=[];for(var i in Object(e))K.call(e,i)&&"constructor"!=i&&o.push(i);return o}function Ie(e,t,r,n,o,i){var s=1&r,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var u=i.get(e);if(u&&i.get(t))return u==t;var c=-1,d=!0,p=2&r?new _e:void 0;for(i.set(e,t),i.set(t,e);++c<a;){var f=e[c],h=t[c];if(n)var y=s?n(h,f,c,t,e,i):n(f,h,c,e,t,i);if(void 0!==y){if(y)continue;d=!1;break}if(p){if(!L(t,(function(e,t){if(s=t,!p.has(s)&&(f===e||o(f,e,r,n,i)))return p.push(t);var s}))){d=!1;break}}else if(f!==h&&!o(f,h,r,n,i)){d=!1;break}}return i.delete(e),i.delete(t),d}function Oe(e){return function(e,t,r){var n=t(e);return Ue(e)?n:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(n,r(e))}(e,We,Ce)}function Re(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function je(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Ae(r)?r:void 0}me.prototype.clear=function(){this.__data__=ue?ue(null):{},this.size=0},me.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},me.prototype.get=function(e){var t=this.__data__;if(ue){var r=t[e];return r===n?void 0:r}return K.call(t,e)?t[e]:void 0},me.prototype.has=function(e){var t=this.__data__;return ue?void 0!==t[e]:K.call(t,e)},me.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ue&&void 0===t?n:t,this},ve.prototype.clear=function(){this.__data__=[],this.size=0},ve.prototype.delete=function(e){var t=this.__data__,r=ke(t,e);return!(r<0)&&(r==t.length-1?t.pop():Z.call(t,r,1),--this.size,!0)},ve.prototype.get=function(e){var t=this.__data__,r=ke(t,e);return r<0?void 0:t[r][1]},ve.prototype.has=function(e){return ke(this.__data__,e)>-1},ve.prototype.set=function(e,t){var r=this.__data__,n=ke(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},be.prototype.clear=function(){this.size=0,this.__data__={hash:new me,map:new(ie||ve),string:new me}},be.prototype.delete=function(e){var t=Re(this,e).delete(e);return this.size-=t?1:0,t},be.prototype.get=function(e){return Re(this,e).get(e)},be.prototype.has=function(e){return Re(this,e).has(e)},be.prototype.set=function(e,t){var r=Re(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},_e.prototype.add=_e.prototype.push=function(e){return this.__data__.set(e,n),this},_e.prototype.has=function(e){return this.__data__.has(e)},Se.prototype.clear=function(){this.__data__=new ve,this.size=0},Se.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Se.prototype.get=function(e){return this.__data__.get(e)},Se.prototype.has=function(e){return this.__data__.has(e)},Se.prototype.set=function(e,t){var r=this.__data__;if(r instanceof ve){var n=r.__data__;if(!ie||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new be(n)}return r.set(e,t),this.size=r.size,this};var Ce=te?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[o++]=s)}return i}(te(e),(function(t){return X.call(e,t)})))}:function(){return[]},Le=Ee;function Ne(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||k.test(e))&&e>-1&&e%1==0&&e<t}function Me(e){if(null!=e){try{return q.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function De(e,t){return e===t||e!=e&&t!=t}(oe&&Le(new oe(new ArrayBuffer(1)))!=S||ie&&Le(new ie)!=d||se&&Le(se.resolve())!=h||ae&&Le(new ae)!=g||le&&Le(new le)!=b)&&(Le=function(e){var t=Ee(e),r=t==f?e.constructor:void 0,n=r?Me(r):"";if(n)switch(n){case ce:return S;case de:return d;case pe:return h;case fe:return g;case he:return b}return t});var Be=xe(function(){return arguments}())?xe:function(e){return qe(e)&&K.call(e,"callee")&&!X.call(e,"callee")},Ue=Array.isArray;var Fe=re||function(){return!1};function $e(e){if(!Ve(e))return!1;var t=Ee(e);return t==c||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ze(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Ve(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function qe(e){return null!=e&&"object"==typeof e}var Ke=C?function(e){return function(t){return e(t)}}(C):function(e){return qe(e)&&ze(e.length)&&!!E[Ee(e)]};function We(e){return null!=(t=e)&&ze(t.length)&&!$e(t)?we(e):Pe(e);var t}e.exports=function(e,t){return Te(e,t)}},4078:(e,t,r)=>{"use strict";var n=r(2026),o=r(4244),i=r(2473),s=r(7642),a=r(6057),l=function(e){i(!1,e)},u=String.prototype.replace,c=String.prototype.split,d="||||",p=function(e){var t=e%100,r=t%10;return 11!==t&&1===r?0:2<=r&&r<=4&&!(t>=12&&t<=14)?1:2},f={pluralTypes:{arabic:function(e){if(e<3)return e;var t=e%100;return t>=3&&t<=10?3:t>=11?4:5},bosnian_serbian:p,chinese:function(){return 0},croatian:p,french:function(e){return e>=2?1:0},german:function(e){return 1!==e?1:0},russian:p,lithuanian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=9&&(e%100<11||e%100>19)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){if(1===e)return 0;var t=e%10;return 2<=t&&t<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0},slovenian:function(e){var t=e%100;return 1===t?0:2===t?1:3===t||4===t?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}};function h(e,t){var r,i,s=(r=e.pluralTypeToLanguages,i={},n(o(r),(function(e){var t=e[0],r=e[1];n(r,(function(e){i[e]=t}))})),i);return s[t]||s[c.call(t,/-/,1)[0]]||s.en}function y(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var g,m=(g={},function(e,t){var r=g[t];return r&&!e.pluralTypes[r]&&(r=null,g[t]=r),r||(r=h(e,t))&&(g[t]=r),r}),v=/%\{(.*?)\}/g;function b(e,t,r,n,o){if("string"!=typeof e)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return e;var i=e,l=n||v,p="number"==typeof t?{smart_count:t}:t;if(null!=p.smart_count&&e){var h=o||f,y=c.call(e,d),g=function(e,t,r){return e.pluralTypes[t](r)}(h,m(h,r||"en"),p.smart_count);i=a(y[g]||y[0])}return i=u.call(i,l,(function(e,t){return s(p,t)&&null!=p[t]?p[t]:e}))}function _(e){var t=e||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var r=t.allowMissing?b:null;this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:r,this.warn=t.warn||l,this.tokenRegex=function(e){var t=e&&e.prefix||"%{",r=e&&e.suffix||"}";if(t===d||r===d)throw new RangeError('"||||" token is reserved for pluralization');return new RegExp(y(t)+"(.*?)"+y(r),"g")}(t.interpolation),this.pluralRules=t.pluralRules||f}_.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},_.prototype.extend=function(e,t){n(o(e||{}),(function(e){var r=e[0],n=e[1],o=t?t+"."+r:r;"object"==typeof n?this.extend(n,o):this.phrases[o]=n}),this)},_.prototype.unset=function(e,t){"string"==typeof e?delete this.phrases[e]:n(o(e||{}),(function(e){var r=e[0],n=e[1],o=t?t+"."+r:r;"object"==typeof n?this.unset(n,o):delete this.phrases[o]}),this)},_.prototype.clear=function(){this.phrases={}},_.prototype.replace=function(e){this.clear(),this.extend(e)},_.prototype.t=function(e,t){var r,n,o=null==t?{}:t;if("string"==typeof this.phrases[e])r=this.phrases[e];else if("string"==typeof o._)r=o._;else if(this.onMissingKey){n=(0,this.onMissingKey)(e,o,this.currentLocale,this.tokenRegex,this.pluralRules)}else this.warn('Missing translation for key: "'+e+'"'),n=e;return"string"==typeof r&&(n=b(r,o,this.currentLocale,this.tokenRegex,this.pluralRules)),n},_.prototype.has=function(e){return s(this.phrases,e)},_.transformPhrase=function(e,t,r){return b(e,t,r)},e.exports=_},631:(e,t,r)=>{var n="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=n&&o&&"function"==typeof o.get?o.get:null,s=n&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=a&&l&&"function"==typeof l.get?l.get:null,c=a&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,y=Object.prototype.toString,g=Function.prototype.toString,m=String.prototype.match,v=String.prototype.slice,b=String.prototype.replace,_=String.prototype.toUpperCase,S=String.prototype.toLowerCase,w=RegExp.prototype.test,k=Array.prototype.concat,E=Array.prototype.join,x=Array.prototype.slice,T=Math.floor,A="function"==typeof BigInt?BigInt.prototype.valueOf:null,P=Object.getOwnPropertySymbols,I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,O="function"==typeof Symbol&&"object"==typeof Symbol.iterator,R="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===O||"symbol")?Symbol.toStringTag:null,j=Object.prototype.propertyIsEnumerable,C=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function L(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||w.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-T(-e):T(e);if(n!==e){var o=String(n),i=v.call(t,o.length+1);return b.call(o,r,"$&_")+"."+b.call(b.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,r,"$&_")}var N=r(4654).custom,M=N&&F(N)?N:null;function D(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function B(e){return b.call(String(e),/"/g,"&quot;")}function U(e){return!("[object Array]"!==V(e)||R&&"object"==typeof e&&R in e)}function F(e){if(O)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!I)return!1;try{return I.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,n,o){var a=r||{};if(z(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(z(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=!z(a,"customInspect")||a.customInspect;if("boolean"!=typeof l&&"symbol"!==l)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(z(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(z(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var y=a.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return K(t,a);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var _=String(t);return y?L(t,_):_}if("bigint"==typeof t){var w=String(t)+"n";return y?L(t,w):w}var T=void 0===a.depth?5:a.depth;if(void 0===n&&(n=0),n>=T&&T>0&&"object"==typeof t)return U(t)?"[Array]":"[Object]";var P=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=E.call(Array(e.indent+1)," ")}return{base:r,prev:E.call(Array(t+1),r)}}(a,n);if(void 0===o)o=[];else if(q(o,t)>=0)return"[Circular]";function N(t,r,i){if(r&&(o=x.call(o)).push(r),i){var s={depth:a.depth};return z(a,"quoteStyle")&&(s.quoteStyle=a.quoteStyle),e(t,s,n+1,o)}return e(t,a,n+1,o)}if("function"==typeof t){var $=function(e){if(e.name)return e.name;var t=m.call(g.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),W=Q(t,N);return"[Function"+($?": "+$:" (anonymous)")+"]"+(W.length>0?" { "+E.call(W,", ")+" }":"")}if(F(t)){var X=O?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):I.call(t);return"object"!=typeof t||O?X:H(X)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var Z="<"+S.call(String(t.nodeName)),ee=t.attributes||[],te=0;te<ee.length;te++)Z+=" "+ee[te].name+"="+D(B(ee[te].value),"double",a);return Z+=">",t.childNodes&&t.childNodes.length&&(Z+="..."),Z+="</"+S.call(String(t.nodeName))+">"}if(U(t)){if(0===t.length)return"[]";var re=Q(t,N);return P&&!function(e){for(var t=0;t<e.length;t++)if(q(e[t],"\n")>=0)return!1;return!0}(re)?"["+Y(re,P)+"]":"[ "+E.call(re,", ")+" ]"}if(function(e){return!("[object Error]"!==V(e)||R&&"object"==typeof e&&R in e)}(t)){var ne=Q(t,N);return"cause"in t&&!j.call(t,"cause")?"{ ["+String(t)+"] "+E.call(k.call("[cause]: "+N(t.cause),ne),", ")+" }":0===ne.length?"["+String(t)+"]":"{ ["+String(t)+"] "+E.call(ne,", ")+" }"}if("object"==typeof t&&l){if(M&&"function"==typeof t[M])return t[M]();if("symbol"!==l&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var oe=[];return s.call(t,(function(e,r){oe.push(N(r,t,!0)+" => "+N(e,t))})),J("Map",i.call(t),oe,P)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{i.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var ie=[];return c.call(t,(function(e){ie.push(N(e,t))})),J("Set",u.call(t),ie,P)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return G("WeakMap");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return G("WeakSet");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{return f.call(e),!0}catch(e){}return!1}(t))return G("WeakRef");if(function(e){return!("[object Number]"!==V(e)||R&&"object"==typeof e&&R in e)}(t))return H(N(Number(t)));if(function(e){if(!e||"object"!=typeof e||!A)return!1;try{return A.call(e),!0}catch(e){}return!1}(t))return H(N(A.call(t)));if(function(e){return!("[object Boolean]"!==V(e)||R&&"object"==typeof e&&R in e)}(t))return H(h.call(t));if(function(e){return!("[object String]"!==V(e)||R&&"object"==typeof e&&R in e)}(t))return H(N(String(t)));if(!function(e){return!("[object Date]"!==V(e)||R&&"object"==typeof e&&R in e)}(t)&&!function(e){return!("[object RegExp]"!==V(e)||R&&"object"==typeof e&&R in e)}(t)){var se=Q(t,N),ae=C?C(t)===Object.prototype:t instanceof Object||t.constructor===Object,le=t instanceof Object?"":"null prototype",ue=!ae&&R&&Object(t)===t&&R in t?v.call(V(t),8,-1):le?"Object":"",ce=(ae||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(ue||le?"["+E.call(k.call([],ue||[],le||[]),": ")+"] ":"");return 0===se.length?ce+"{}":P?ce+"{"+Y(se,P)+"}":ce+"{ "+E.call(se,", ")+" }"}return String(t)};var $=Object.prototype.hasOwnProperty||function(e){return e in this};function z(e,t){return $.call(e,t)}function V(e){return y.call(e)}function q(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function K(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return K(v.call(e,0,t.maxStringLength),t)+n}return D(b.call(b.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,W),"single",t)}function W(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+_.call(t.toString(16))}function H(e){return"Object("+e+")"}function G(e){return e+" { ? }"}function J(e,t,r,n){return e+" ("+t+") {"+(n?Y(r,n):E.call(r,", "))+"}"}function Y(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+E.call(e,","+r)+"\n"+t.prev}function Q(e,t){var r=U(e),n=[];if(r){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=z(e,o)?t(e[o],e):""}var i,s="function"==typeof P?P(e):[];if(O){i={};for(var a=0;a<s.length;a++)i["$"+s[a]]=s[a]}for(var l in e)z(e,l)&&(r&&String(Number(l))===l&&l<e.length||O&&i["$"+l]instanceof Symbol||(w.call(/[^\w$]/,l)?n.push(t(l,e)+": "+t(e[l],e)):n.push(l+": "+t(e[l],e))));if("function"==typeof P)for(var u=0;u<s.length;u++)j.call(e,s[u])&&n.push("["+t(s[u])+"]: "+t(e[s[u]],e));return n}},8987:(e,t,r)=>{"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=r(1414),a=Object.prototype.propertyIsEnumerable,l=!a.call({toString:null},"toString"),u=a.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===i.call(e),n=s(e),a=t&&"[object String]"===i.call(e),p=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var h=u&&r;if(a&&e.length>0&&!o.call(e,0))for(var y=0;y<e.length;++y)p.push(String(y));if(n&&e.length>0)for(var g=0;g<e.length;++g)p.push(String(g));else for(var m in e)h&&"prototype"===m||!o.call(e,m)||p.push(String(m));if(l)for(var v=function(e){if("undefined"==typeof window||!f)return d(e);try{return d(e)}catch(e){return!1}}(e),b=0;b<c.length;++b)v&&"constructor"===c[b]||!o.call(e,c[b])||p.push(c[b]);return p}}e.exports=n},2215:(e,t,r)=>{"use strict";var n=Array.prototype.slice,o=r(1414),i=Object.keys,s=i?function(e){return i(e)}:r(8987),a=Object.keys;s.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return o(e)?a(n.call(e)):a(e)}):Object.keys=s;return Object.keys||s},e.exports=s},1414:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},5340:(e,t,r)=>{"use strict";var n=r(6378),o=r(1924),i=o("Object.prototype.propertyIsEnumerable"),s=o("Array.prototype.push");e.exports=function(e){var t=n(e),r=[];for(var o in t)i(t,o)&&s(r,[o,t[o]]);return r}},4244:(e,t,r)=>{"use strict";var n=r(4289),o=r(5559),i=r(5340),s=r(6490),a=r(5506),l=o(s(),Object);n(l,{getPolyfill:s,implementation:i,shim:a}),e.exports=l},6490:(e,t,r)=>{"use strict";var n=r(5340);e.exports=function(){return"function"==typeof Object.entries?Object.entries:n}},5506:(e,t,r)=>{"use strict";var n=r(6490),o=r(4289);e.exports=function(){var e=n();return o(Object,{entries:e},{entries:function(){return Object.entries!==e}}),e}},1040:(e,t,r)=>{"use strict";var n=r(6378),o=r(561),i=r(1924)("String.prototype.replace"),s=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;e.exports=function(){var e=o(n(this));return i(i(e,s,""),a,"")}},6057:(e,t,r)=>{"use strict";var n=r(5559),o=r(4289),i=r(1040),s=r(254),a=r(29),l=n(s());o(l,{getPolyfill:s,implementation:i,shim:a}),e.exports=l},254:(e,t,r)=>{"use strict";var n=r(1040);e.exports=function(){return String.prototype.trim&&"\u200b"==="\u200b".trim()?String.prototype.trim:n}},29:(e,t,r)=>{"use strict";var n=r(4289),o=r(254);e.exports=function(){var e=o();return n(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e}},4632:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserWindow=void 0;t.BrowserWindow=class{static getWindowReference(){return window}}},8232:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleUserEvent=void 0;const n=r(5161),o=r(2694),i=r(8593),s=r(4991),a=r(5957),l=r(2629),u=r(9728),c=r(3727),d=r(2497),p=r(7892);t.handleUserEvent=function(e,t,r,f,h){var y,g,m;const v=new o.KeyBinding(c.Shortcut.keyAndCode("Escape","Escape")),b=o.KeyBinding.matchesEvent(t,t.keys.playPause,h),_=o.KeyBinding.matchesEvent(t,t.keys.thumbsLike,h),S=o.KeyBinding.matchesEvent(t,t.keys.thumbsDislike,h),w=o.KeyBinding.matchesEvent(t,t.keys.thumbsRemove,h);if(s.historyPanelIsVisible()&&(o.KeyBinding.matchesEvent(t,t.keys.viewHistory,h)||o.KeyBinding.matchesEvent(t,v,h)||b?s.hideHistoryPanel(t.keys.viewHistory.feedback):null===(y=e.getHistoryOverlay())||void 0===y||y.handleKeyboardEvent(h),!b))return;if(a.infoPanelIsVisible()){if(o.KeyBinding.matchesEvent(t,t.keys.showInfo,h)||o.KeyBinding.matchesEvent(t,v,h)||b)a.hideInfoPanel(t.keys.showInfo.feedback);else if(_||S||w){const t=_?p.ThumbsRating.LIKE:S?p.ThumbsRating.DISLIKE:p.ThumbsRating.REMOVE;null===(g=e.getInfoOverlay())||void 0===g||g.handleThumbsRatingShortcut(t)}else null===(m=e.getInfoOverlay())||void 0===m||m.handleKeyboardEvent(h);if(!b)return}if(i.longPauseIsEnabled(f))return t.logger.info("Netflix has unloaded its player, we can only resume playback from here."),void(b&&i.longPauseResume());const k=o.UserPrefs.getTimeSkipForShortcut(t,c.Shortcut.fromKeyDownEvent(h));if(o.KeyBinding.matchesEvent(t,t.keys.pictureInPicture,h))i.togglePictureInPicture(t,r,t.keys.pictureInPicture.feedback);else if(b)i.togglePlayPause(t,f);else if(null!==k)l.applyTimeSkip(e,t,f,k);else if(o.KeyBinding.matchesEvent(t,t.keys.frameNext,h)&&f.getPaused())l.skipFrame(e,f,1,t.keys.frameNext.feedback);else if(o.KeyBinding.matchesEvent(t,t.keys.framePrev,h)&&f.getPaused())l.skipFrame(e,f,-1,t.keys.framePrev.feedback);else if(o.KeyBinding.matchesEvent(t,t.keys.nextEpisode,h))l.playNeighborEpisode(e,t,f,1,t.keys.nextEpisode.feedback);else if(o.KeyBinding.matchesEvent(t,t.keys.prevEpisode,h))l.playNeighborEpisode(e,t,f,-1,t.keys.prevEpisode.feedback);else if(o.KeyBinding.matchesEvent(t,t.keys.speedFaster,h)&&r)l.changePlaybackSpeed(e,t,r,1,t.keys.speedFaster.feedback);else if(o.KeyBinding.matchesEvent(t,t.keys.speedSlower,h)&&r)l.changePlaybackSpeed(e,t,r,-1,t.keys.speedSlower.feedback);else if(o.KeyBinding.matchesEvent(t,t.keys.volumeUp,h))u.changeVolume(t,f,1,h.key,t.keys.volumeUp.feedback);else if(o.KeyBinding.matchesEvent(t,t.keys.volumeDown,h))u.changeVolume(t,f,-1,h.key,t.keys.volumeDown.feedback);else if(o.KeyBinding.matchesEvent(t,t.keys.muteOnOff,h))u.toggleMuteVolume(t,f,h.key,t.keys.muteOnOff.feedback);else if(o.KeyBinding.matchesEvent(t,t.keys.audioNextLang,h))n.selectNeighborAudioTrack(t,f,1,t.keys.audioNextLang.feedback);else if(o.KeyBinding.matchesEvent(t,t.keys.audioPrevLang,h))n.selectNeighborAudioTrack(t,f,-1,t.keys.audioNextLang.feedback);else if(o.KeyBinding.matchesEvent(t,t.keys.subtitlesNextLang,h))n.selectNeighborSubtitlesTrack(t,f,1,t.keys.subtitlesNextLang.feedback);else if(o.KeyBinding.matchesEvent(t,t.keys.subtitlesPrevLang,h))n.selectNeighborSubtitlesTrack(t,f,-1,t.keys.subtitlesPrevLang.feedback);else if(t.numberPercents.enabled&&o.isSingleNumberKeyPress(t,h)){const r=h.key.charCodeAt(0)-"0".charCodeAt(0);l.handlePercentTimeSkip(e,t,f,r,t.numberPercents.feedback)}else o.KeyBinding.matchesEvent(t,t.keys.subtitlesOnOff,h)?n.toggleSubtitlesOnOff(e,t,f,t.keys.subtitlesOnOff.feedback):o.KeyBinding.matchesEvent(t,t.keys.subtitlesSize,h)?n.useNextSubtitlesSize(e,t,f,t.keys.subtitlesSize.feedback):o.KeyBinding.matchesEvent(t,t.keys.bookmarkBackup,h)?l.bookmarkBackup(e,t,f,t.keys.bookmarkBackup.feedback):o.KeyBinding.matchesEvent(t,t.keys.bookmarkRestore,h)?l.bookmarkRestore(e,t,f,t.keys.bookmarkRestore.feedback):o.KeyBinding.matchesEvent(t,t.keys.bookmarkDelete,h)?l.bookmarkDelete(t,f,t.keys.bookmarkDelete.feedback):o.KeyBinding.matchesEvent(t,t.keys.statsForNerds,h)?i.toggleDebugPanel(t.keys.statsForNerds.feedback):o.KeyBinding.matchesEvent(t,t.keys.viewHistory,h)?s.showHistoryPanel(e,t,f,t.keys.viewHistory.feedback):o.KeyBinding.matchesEvent(t,t.keys.showInfo,h)?a.showInfoPanel(t,e,f,t.keys.showInfo.feedback):_?d.ShaktiActions.updateThumbsRating(t,f,p.ThumbsRating.LIKE,t.keys.thumbsLike.feedback):S?d.ShaktiActions.updateThumbsRating(t,f,p.ThumbsRating.DISLIKE,t.keys.thumbsDislike.feedback):w&&d.ShaktiActions.updateThumbsRating(t,f,p.ThumbsRating.REMOVE,t.keys.thumbsRemove.feedback)}},9242:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContentToBackgroundEvents=t.BackgroundToContentEvents=void 0,function(e){e.START="B2C_START",e.UPDATE_PREFS="B2C_UPDATE_PREFS"}(t.BackgroundToContentEvents||(t.BackgroundToContentEvents={})),function(e){e.SAVE_PREFS="B2C_SAVE_PREFS"}(t.ContentToBackgroundEvents||(t.ContentToBackgroundEvents={}))},4991:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.historyPanelIsVisible=t.hideHistoryPanel=t.showHistoryPanel=void 0;const n=r(2177),o=r(4995),i=r(2497),s=r(8593);t.showHistoryPanel=function(e,t,r,a){r.pause(),n.displayTextAction("\u{1f557}",a);const l=new i.ShaktiClient(t,r);l.sendShaktiRequest(i.ShaktiUrl.GET_RECENT_HISTORY,null).then((n=>{const a=new o.HistoryOverlay(n,r.getMovieId(),(e=>function(e,t,r){const n={movieID:r,seriesAll:!1,authURL:t.getNetflixAuthUrl()};t.sendShaktiRequest(i.ShaktiUrl.UPDATE_HISTORY,n).then((t=>{t.status?e.logger.info("Deleted video from history",r):e.logger.warn("Failed to delete video from history",r)})).catch((t=>{e.logger.warn("Failed to delete video from history with ID:",r,t)}))}(t,l,e))),u=a.render(),c=s.findRootElementForOverlay();c&&(c.insertAdjacentHTML("beforeend",u),e.setHistoryOverlay(a),a.installClickEventHandlers())})).catch((e=>{t.logger.warn("Failed to retrieve viewing activity",e)}))},t.hideHistoryPanel=function(e){var t;n.displayTextAction("\u{1f557}",e),null===(t=document.getElementById(o.HistoryOverlay.OVERLAY_ELEMENT_ID))||void 0===t||t.remove()},t.historyPanelIsVisible=function(){return null!==document.getElementById(o.HistoryOverlay.OVERLAY_ELEMENT_ID)}},9671:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageDispatch=void 0;const o=n(r(102)),i=n(r(5892)),s=n(r(4303)),a=r(9692);class l{static configureLanguageForLocale(e){let t;return t=e.startsWith("en_")?this.DEFAULT_LANGUAGE:e.startsWith("fr")?new a.Language("fr",i.default,this.DEFAULT_LANGUAGE):e.startsWith("es")?new a.Language("es",s.default,this.DEFAULT_LANGUAGE):this.DEFAULT_LANGUAGE,a.setCurrentLanguage(t),t}}t.LanguageDispatch=l,l.DEFAULT_LANGUAGE=new a.Language("en",o.default)},102:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={language:{code:"en",preferred_subtitles:"English",preferred_subtitles_code:"en"},language_selector:{en:"English",ar:"Arabic",zhs:"Chinese (Simplified)",zht:"Chinese (Traditional)",hr:"Croatian",fil:"Filipino",fr:"French",de:"German",he:"Hebrew",hi:"Hindi",it:"Italian",ja:"Japanese",ko:"Korean",fa:"Persian",pl:"Polish",pt:"Portuguese",ru:"Russian",es:"Spanish",tl:"Tagalog",ta:"Tamil",th:"Thai",vi:"Vietnamese"},history:{viewing:"Viewing history",open_info:"Click to open information page for this show",watch_again:"Click to watch again",delete:"Click to remove from viewing history"},show_overlay:{predicted_match:"Predicted match for your taste, based on your viewing history",quality_hd:"HD",no_synopsis:"(no synopsis available)",num_seasons:"{{smart_count}} Season |||| {{smart_count}} Seasons",percent_match:"{{percent}}% Match",duration_minutes:"{{duration}}m",season_number:{with_year:"Season {{number}} ({{year}})",no_year:"Season {{number}}"}},movie_overlay:{predicted_match:"Predicted match for your taste, based on your viewing history",quality_hd:"HD",no_synopsis:"(no synopsis available)",percent_match:"{{percent}}% Match",duration_minutes:"{{duration}}m",go_to_info_page:"Open information page"},common_overlay:{like_video:"Like video",dislike_video:"Dislike video"},subtitles:{size:{small:"Small",medium:"Medium",large:"Large"},feedback:{small:"S",medium:"M",large:"L"}},text:{invalid_action:"Invalid text action: {{action}}"},reserved:{f_full_screen:"F used for full-screen",m_mute_unmute:"M used for mute/unmute",arrows_scrubbing:"\u2190\u2192 used for scrubbing",arrows_volume:"\u2191\u2193 used for volume",space_play_pause:"Space used for play/pause",enter_play_pause:"Enter used for play/pause",shortcut_logs:" Ctrl {{alt}} {{shift}} L shows logs",shortcut_debug:" Ctrl {{alt}} {{shift}} D is debug mode"},popup:{keys:{play_pause:"Play/pause",play_faster:"Play faster",play_slower:"Play slower",next_frame:"Next frame",previous_frame:"Previous frame",next_episode:"Next episode",previous_episode:"Previous episode",toggle_pip:"Toggle PiP",stream_stats:"Stream stats",view_history:"View history",view_show_info:"View show info",subtitles_on_off:"Subtitles (on/off)",subtitles_size:"Subtitles size",subtitles_next:"Subtitles (next)",subtitles_previous:"Subtitles (previous)",audio_next:"Audio (next)",audio_previous:"Audio (previous)",mute_unmute:"Mute/unmute",volume_up:"Volume up",volume_down:"Volume down",save_position:"Save position",restore_position:"Restore position",delete_position:"Delete position",like_video:"Like video",dislike_video:"Dislike video",remove_rating:"Remove rating"},help:{play_pause:"Use this to define a keyboard shortcut that will alternate between playing the video and pausing it when pressed.",play_faster:"Plays the video faster (press again to go even faster).",play_slower:"Plays the video slower (press again to go even slower).",next_frame:"Moves ahead by only one frame.\nNote: only works when the video is paused.",previous_frame:"Moves back by only one frame.\nNote: only works when the video is paused.",next_episode:"Starts playing the next episode, if watching a series.",previous_episode:"Starts playing the previous episode, if watching a series.",toggle_pip:'Toggles "Picture-in-Picture", which is when the video you\'re watching floats above other windows.',stream_stats:"Shows internal stats about the video stream coming from Netflix.",view_history:"Shows Netflix history, lets your replay the videos you liked and delete the ones you didn't.",view_show_info:"Shows information about the current movie or series, lets you jump to a different episode.",subtitles_on_off:"Turns subtitles on or off.",subtitles_size:"Cycles through the subtitles sizes, between small/medium/large.",subtitles_next:"Changes the subtitles language to the next one in the list",subtitles_previous:"Changes the subtitles language to the previous one in the list",audio_next:"Changes the audio language to the next one in the list.",audio_previous:"Changes the audio language to the previous one in the list.",mute_unmute:'Note that you can already use "m" to mute or unmute any Netflix video. This allows you to define a new shortcut, as long as it does not conflict with the existing Netflix shortcut.',volume_up:'Netflix already supports increasing the volume with the up arrow, but you can define a second shortcut here and customize by how much it changes the volume using the "volume change" field below.',volume_down:'Netflix already supports decreasing the volume with the down arrow, but you can define a second shortcut here and customize by how much it changes the volume using the "volume change" field below.',save_position:'Saves your current position in the video. Use the "restore" shortcut to jump back to it.',restore_position:"Jumps back to a previously-saved position in the video you are watching.",delete_position:'Deletes the saved position for the current video. After this, using the "restore" shortcut will no longer jump to a different time in the video.',like_video:'Marks the current video as "liked", to improve the Netflix recommendations.',dislike_video:'Marks the current video as "disliked", to improve the Netflix recommendations.',remove_rating:"Removes the like/dislike rating for the current video."},label:{extension_name:"Netflix\u2122\ufe0f Keyboard Shortcuts",duplicate_keys:"Duplicate keys",invalid_volume:"Invalid volume change",invalid_speed:"Invalid speed change",revert_preferences:"\u26a0\ufe0f Really revert preferences?",last_saved:"Last saved",disclaimer:"Netflix is a trademark of Netflix, Inc.{{newline}}This extension is in {{start_underline}}no way{{end_underline}} created, sponsored, or endorsed by Netflix."},button:{revert:"REVERT",save:"SAVE",revert_initial:"Revert",revert_confirm:"Confirm",revert_cancel:"Cancel",new_time_shortcut:"New time shortcut"},feedback:{nothing:"Nothing",text_only:"Text only",circled:"Circled"},on_off:{yes:"YES",no:"NO"},column_header:{action:"Action",shortcut:"Shortcut",visual:"Visual",nav_shortcuts:"Shortcut",nav_skip:"Skip (sec.)",nav_enabled:"Enabled",nav_remove:"Remove"},separators:{custom_shortcuts:"Custom shortcuts for jumping through the video",num_keys:"Numeric keys (0 to 9)",other:"Other"},help_text:{time_skip:"Visual",percent_jumps:"Keys 0-9 go to 0% to 90% of the video",percent_jumps_feedback:"What visual to display when pressed",volume_delta:"Volume change for shortcuts (%)",speed_delta:"Playback speed change for shortcuts (%)",skip_intro:"Automatically skip intro for series",skip_recap:"Automatically skip recap for series",play_next_episode:"Automatically play next episode for series",double_rating:"Re-rating removes previous rating",default_lang:"Preferred subtitles language",default_sub_size:"Default subtitles size",revert:"Revert settings to extension defaults",last_saved:"Last saved",log_level:"Log level"},help_html:{time_skip:"For these custom shortcuts, what visual feedback to show on screen.",percent_jumps:"When you press keys 0 to 9 on your keyboard, whether to jump to 0% of the video when 0 is pressed, 10% of the video when 1 is pressed, etc. up to 90% with 9. This provides an easy way to skip through the video without having to press the same key for a long time.",percent_jumps_feedback:"When you press keys 0 to 9 on your keyboard, whether to show the percentage of the video to which you're jumping, and if so with what design.",volume_delta:"For the Volume up/Volume down shortcuts, how much to change the audio volume by (the volume range goes from 0 to 100).",speed_delta:"For the Play faster/slower shortcuts, how much to change the playback speed by (e.g. if the value is 5, increase or decrease by 5%).",skip_intro:'When a series has a "skip" button to skip the intro credits, automatically click the button.',skip_recap:'When a series has a "skip recap" button to skip the recap from the previous episode, automatically click the button.',play_next_episode:'When a series has a "Next Episode" button around the end credits, automatically click the button.',double_rating:"If enabled with YES, submitting the same rating twice (e.g. \u{1f44d} and then \u{1f44d} again) removes the rating.\nIf disabled with NO, voting twice just sends it again to Netflix but doesn't remove the rating.",default_lang:'When the shortcut for "Subtitles (on/off)" is used, which subtitles language to select if subtitles hadn\'t been turned on before.',default_sub_size:'When the shortcut for "Subtitles (on/off)" is used, which subtitles size to select.',revert:"This deletes *all* your custom key bindings and preferences for this extension and reverts them to the default values that this extension came with.",last_saved:"When preferences were last saved",log_level:"For developers: how much information to log in the browser console."}}}},5892:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={language:{code:"fr",preferred_subtitles:"French",preferred_subtitles_code:"fr"},language_selector:{en:"Anglais",ar:"Arabe",zhs:"Chinois (simplifi\xe9)",zht:"Chinois (traditionnel)",hr:"Croate",fil:"Philippin",fr:"Fran\xe7ais",de:"Allemand",he:"H\xe9breu",hi:"Hindi",it:"Italien",ja:"Japonais",ko:"Kor\xe9en",fa:"Farsi",pl:"Polonais",pt:"Portugais",ru:"Russe",es:"Espagnol",tl:"Tagalog",ta:"Tamoul",th:"Tha\xef",vi:"Vietnamien"},history:{viewing:"Activit\xe9 r\xe9cente",open_info:"Ouvrir la page d'information",watch_again:"Cliquez ici pour regarder \xe0 nouveau",delete:"Cliquez ici pour supprimer cette entr\xe9e"},show_overlay:{predicted_match:"Score de similarit\xe9 bas\xe9 sur votre historique de visionnage",quality_hd:"HD",no_synopsis:"(aucune description disponible)",num_seasons:"{{smart_count}} Saison |||| {{smart_count}} Saisons",percent_match:"{{percent}}% Similaire",duration_minutes:"{{duration}}m",season_number:{with_year:"Saison {{number}} ({{year}})",no_year:"Saison {{number}}"}},movie_overlay:{predicted_match:"Score de similarit\xe9 bas\xe9 sur votre historique de visionnage",quality_hd:"HD",no_synopsis:"(aucune description disponible)",percent_match:"{{percent}}% Similaire",duration_minutes:"{{duration}}m",go_to_info_page:"Plus d'informations"},common_overlay:{like_video:"J'aime cette vid\xe9o",dislike_video:"Je n'aime pas cette vid\xe9o"},subtitles:{size:{small:"Petit",medium:"Moyen",large:"Grand"},feedback:{small:"P",medium:"M",large:"G"}},text:{invalid_action:"Action texte invalide: {{action}}"},reserved:{f_full_screen:"F pour plein \xe9cran",m_mute_unmute:"M pour couper le son",arrows_scrubbing:"\u2190\u2192 pour avancer/reculer",arrows_volume:"\u2191\u2193 pour le volume",space_play_pause:"Espace pour jouer/pause",enter_play_pause:"Entrer pour jouer/pause",shortcut_logs:" Ctrl {{alt}} {{shift}} L pour les log",shortcut_debug:" Ctrl {{alt}} {{shift}} D pour le mode dev"},popup:{keys:{play_pause:"Jouer/pause",play_faster:"Plus rapide",play_slower:"Plus lent",next_frame:"Image suivante",previous_frame:"Image pr\xe9c\xe9dente",next_episode:"\xc9pisode suivant",previous_episode:"\xc9pisode pr\xe9c\xe9dent",toggle_pip:"Image en vue \xe0 part",stream_stats:"Statistiques",view_history:"Historique",view_show_info:"Information vid\xe9o",subtitles_on_off:"Sous-titres (on/off)",subtitles_size:"Taille sous-titres",subtitles_next:"Sous-titre suivant",subtitles_previous:"Sous-titre pr\xe9c\xe9dent",audio_next:"Audio (suivant)",audio_previous:"Audio (pr\xe9c\xe9dent)",mute_unmute:"Son (on/off)",volume_up:"Volume +",volume_down:"Volume -",save_position:"Sauver le moment",restore_position:"Jouer moment sauv\xe9",delete_position:"Supprimer moment",like_video:"Aimer la vid\xe9o",dislike_video:"Ne pas aimer",remove_rating:"Enlever le vote"},help:{play_pause:"Utilisez ce champ pour d\xe9finir un raccour\xe7i clavier qui va alterner entre jouer et pause.",play_faster:"Jouer la vid\xe9o plus vite (appuyez encore pour acc\xe9l\xe9rer encore plus).",play_slower:"Jouer la vid\xe9o plus lentement (appuyez encore pour ralentir encore plus).",next_frame:"Avancer d'une image seulement\nNotez que cela ne fonctionne que lorsque la vid\xe9o est en pause.",previous_frame:"Reculer d'une image seulement\nNotez que cela ne fonctionne que lorsque la vid\xe9o est en pause.",next_episode:"Jouer l'\xe9pisode suivant, si c'est une s\xe9rie.",previous_episode:"Jouer l'\xe9pisode pr\xe9c\xe9dent, si c'est une s\xe9rie.",toggle_pip:'Activer le mode "Picture-in-Picture", qui est quand la vid\xe9o flotte au dessus du navigateur.',stream_stats:"Voir des statistiques de streaming de Netflix.",view_history:"Voir l'historique de visionnage, permet \xe9galement de supprimer des vid\xe9os de cette liste.",view_show_info:"Voir des infos sur la vid\xe9o en cours de visionnage, permet \xe9galement de jouer un autre \xe9pisode.",subtitles_on_off:"Active ou d\xe9sactive les sous-titres.",subtitles_size:"Change la taille des sous-titres, entre petit, moyen, et grand.",subtitles_next:"Passe \xe0 la langue suivante pour les sous-titres.",subtitles_previous:"Passe \xe0 la langue pr\xe9c\xe9dente pour les sous-titres.",audio_next:"Passe \xe0 la langue suivante pour les vid\xe9os doubl\xe9es.",audio_previous:"Passe \xe0 la langue pr\xe9c\xe9dente pour les vid\xe9os doubl\xe9es.",mute_unmute:"Vous pouvez d\xe9j\xe0 utiliser \"m\" pour couper ou remettre le son. Ceci vous permet de d\xe9finir un nouveau raccour\xe7i, du moment qu'il n'est pas d\xe9j\xe0 utilis\xe9 par Netflix.",volume_up:"Vous pouvez d\xe9j\xe0 monter le son avec la fl\xe8che du haut, mais ce champ vous permet de d\xe9finir un nouveau raccour\xe7i et de configurer plus bas de combien changer le volume.",volume_down:"Vous pouvez d\xe9j\xe0 baisser le son avec la fl\xe8che du bas, mais ce champ vous permet de d\xe9finir un nouveau raccour\xe7i et de configurer plus bas de combien changer le volume.",save_position:"Se souvenir du moment actuel dans la vid\xe9o (l'horodatage). Un second raccour\xe7i vous permet d'y retourner en pressant une seule touche.",restore_position:"Revient au moment enregistr\xe9 pr\xe9c\xe9demment.",delete_position:"Efface le moment enregistr\xe9.",like_video:'Envoie \xe0 Netflix "j\'aime cette vid\xe9o", pour raffiner leurs recommendations.',dislike_video:'Envoie \xe0 Netflix "je n\'aime pas cette vid\xe9o", pour raffiner leurs recommendations.',remove_rating:"Enl\xe8ve votre vote pour cette vid\xe9o."},label:{extension_name:"Raccour\xe7is Clavier pour Netflix\u2122\ufe0f",duplicate_keys:"Config en double",invalid_volume:"Changement de volume invalide",invalid_speed:"Changement de vitesse invalide",revert_preferences:"\u26a0\ufe0f Revenir \xe0 la config de base?",last_saved:"Derni\xe8re sauvegarde",disclaimer:"Netflix est une marque d\xe9pos\xe9e de Netflix, Inc.{{newline}}Cette extension n'est {{start_underline}}pas du tout{{end_underline}} faite, sponsoris\xe9e, ou promue par Netflix."},button:{revert:"ANNULER",save:"SAUVEGARDER",revert_initial:"R\xe9-initialiser",revert_confirm:"Confirmer",revert_cancel:"Annuler",new_time_shortcut:"Nouveau raccour\xe7i temps"},feedback:{nothing:"Aucun",text_only:"Texte seul",circled:"Cercle"},on_off:{yes:"OUI",no:"NON"},column_header:{action:"Action",shortcut:"Raccour\xe7i clavier",visual:"Visuel",nav_shortcuts:"Raccour\xe7i",nav_skip:"Temps (sec.)",nav_enabled:"Activ\xe9",nav_remove:"Supprimer"},separators:{custom_shortcuts:"Raccour\xe7is pour avancer ou reculer dans la vid\xe9o",num_keys:"Touches num\xe9riques (0 \xe0 9)",other:"Autres param\xe8tres"},help_text:{time_skip:"Visuel",percent_jumps:"0-9 pour aller de 0% \xe0 90% de la vid\xe9o",percent_jumps_feedback:"Visuel \xe0 afficher quand 0-9 est appuy\xe9",volume_delta:"Changement de volume (pourcentage)",speed_delta:"Changement de vitesse (pourcentage)",skip_intro:"Passer l'intro des s\xe9ries",skip_recap:"Passer le r\xe9cap' des s\xe9ries",play_next_episode:"Jouer automatiquement l'\xe9pisode suivant",double_rating:"Re-voter enl\xe8ve le vote pr\xe9c\xe9dent",default_lang:"Langue par d\xe9faut pour les sous-titres",default_sub_size:"Taille sous-titres par d\xe9faut",revert:"Revenir \xe0 la config de base",last_saved:"Derni\xe8re sauvegarde",log_level:"Niveau de log"},help_html:{time_skip:"Pour ces raccour\xe7is personnels, quel visuel afficher \xe0 l'\xe9cran quand ces touches sont press\xe9es.",percent_jumps:"En appuyant sur les touches 0 \xe0 9, s'il faut aller \xe0 0% de la vid\xe9o quand 0 est pr\xe9ss\xe9, 10% pour 1, etc. jusqu'\xe0 90% pour 9.",percent_jumps_feedback:"Quand vous appuyez sur les touches 0 \xe0 9, s'il faut afficher le pourcentage de la vid\xe9o \xe0 charger, et avec quel visuel.",volume_delta:"Pour les raccour\xe7is de volume, de combien changer le volume, en pourcentage.",speed_delta:'Pour les raccour\xe7is plus rapide/plus lent, de combien changer la vitesse de la vid\xe9o (par exemple si la valeur est 5, jouer 5% plus rapidement quand le raccour\xe7i "plus vite" est utilis\xe9).',skip_intro:"Quand une s\xe9rie a un bouton \"passer l'intro\", s'il faut le cliquer automatiquement.",skip_recap:"Quand une s\xe9rie a un bouton \"ignorer le r\xe9cap'\", s'il faut le cliquer automatiquement.",play_next_episode:"Quand une s\xe9rie a un bouton \"\xc9pisode suivant\" \xe0 la fin d'un \xe9pisode, s'il faut le cliquer automatiquement.",double_rating:"Avec OUI, voter deux fois pareil (par exemple \u{1f44d} et encore \u{1f44d}) enl\xe8ve le second vote.\nAvec NON, voter la m\xeame chose deux fois ne change rien.",default_lang:'Quand le raccour\xe7i pour "Sous-titres (on/off)" est utilis\xe9, quelle langue choisir automatiquement pour les sous-titres.',default_sub_size:'Quand le raccour\xe7i pour "Sous-titres (on/off)" est utilis\xe9, quelle taille de sous-titres choisir automatiquement.',revert:"Supprime *tous* vos raccour\xe7is persos et revient aux pr\xe9f\xe9rences par d\xe9faut de cette extension.",last_saved:"Quand les pr\xe9f\xe9rences ont \xe9t\xe9 sauv\xe9es",log_level:"Pour les d\xe9velopeurs, quel niveau de log afficher dans la console."}}}},9692:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t._t=t.unsetCurrentLanguage_TestOnly=t.setCurrentLanguage=t.Language=void 0;const o=n(r(4078));t.Language=class{constructor(e,t,r){this.onMissingKey=null,this.defaultLanguage=r,this.languageCode=e;const n={phrases:t,locale:e,interpolation:{prefix:"{{",suffix:"}}"}};void 0!==this.defaultLanguage?n.onMissingKey=(e,t,r)=>{var n;return this.handleMissingKey(e,t,r),(null===(n=this.defaultLanguage)||void 0===n?void 0:n.t(e))||e}:n.onMissingKey=(e,t,r)=>(this.handleMissingKey(e,t,r),e),this.polyglot=new o.default(n)}handleMissingKey(e,t,r){null!==this.onMissingKey&&this.onMissingKey(e)}setCallbackOnMissingKey(e){this.onMissingKey=e}t(e,t){return this.polyglot.t(e,t)}getLanguageCode(){return this.languageCode}};let i=null;t.setCurrentLanguage=function(e){if(null!==i)throw new Error("Language already set!");i=e},t.unsetCurrentLanguage_TestOnly=function(){const e=i;return i=null,e},t._t=function(e,t){return(null==i?void 0:i.t(e,t))||e}},4303:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={language:{code:"es",preferred_subtitles:"Spanish",preferred_subtitles_code:"es"},language_selector:{en:"Ingl\xe9s",ar:"\xc1rabe",zhs:"Chino (simplificado)",zht:"Chino (tradicional)",hr:"Croata",fil:"Filipino",fr:"Franc\xe9s",de:"Alem\xe1n",he:"Hebreo",hi:"Hindi",it:"Italiano",ja:"Japon\xe9s",ko:"Coreano",fa:"Persa",pl:"Polaco",pt:"Portugu\xe9s",ru:"Ruso",es:"Espa\xf1ol",tl:"Tagalo",ta:"Tamil",th:"Tailand\xe9s",vi:"Vietnamita"},history:{viewing:"Historial de reproducci\xf3n",open_info:"Haz clic para abrir la p\xe1gina de informaci\xf3n de este programa",watch_again:"Haz clic para verlo de nuevo",delete:"Haz clic para eliminarlo del historial de visualizaci\xf3n"},show_overlay:{predicted_match:"Predicci\xf3n de coincidencia con tus gustos, basada en tu historial de visionado",quality_hd:"HD",no_synopsis:"(sin sinopsis disponible)",num_seasons:"Temporada {{smart_count}} |||| Temporadas {{smart_count}}",percent_match:"{{percent}} % de coincidencia",duration_minutes:"{{duration}}m",season_number:{with_year:"Temporada {{number}} ({{year}})",no_year:"Temporada {{number}}"}},movie_overlay:{predicted_match:"Predicci\xf3n de coincidencia con tus gustos, basada en tu historial de visionado",quality_hd:"HD",no_synopsis:"(sin sinopsis disponible)",percent_match:"{{percent}}% de coincidencia",duration_minutes:"{{duration}}m",go_to_info_page:"Abrir p\xe1gina de informaci\xf3n"},common_overlay:{like_video:"Me gusta este v\xeddeo",dislike_video:"No me gusta este v\xeddeo"},subtitles:{size:{small:"Peque\xf1o",medium:"Medio",large:"Grande"},feedback:{small:"P",medium:"M",large:"G"}},text:{invalid_action:"Acci\xf3n de texto no v\xe1lida: {{action}}"},reserved:{f_full_screen:"F es para pantalla completa",m_mute_unmute:"M es para activar el silencio",arrows_scrubbing:"\u2190\u2192 para avanzar o retroceder",arrows_volume:"\u2191\u2193 es para volumen",space_play_pause:"Espacio es para pausar",enter_play_pause:"Intro es para pausar",shortcut_logs:" Ctrl {{alt}} {{shift}} L\nmuestra registros",shortcut_debug:"Ctrl {{alt}} {{shift}} D\nes el modo de depuraci\xf3n"},popup:{keys:{play_pause:"Reproducir/pausar",play_faster:"Reproducir m\xe1s r\xe1pido",play_slower:"Reproducir m\xe1s lento",next_frame:"Siguiente fotograma",previous_frame:"Fotograma anterior",next_episode:"Siguiente episodio",previous_episode:"Episodio anterior",toggle_pip:"Alternar PiP",stream_stats:"Estad\xedsticas de transmisi\xf3n",view_history:"Ver historial",view_show_info:"Ver info. del programa",subtitles_on_off:"Activar/desactivar subt\xedtulos",subtitles_size:"Tama\xf1o de los subt\xedtulos",subtitles_next:"Subt\xedtulos (siguiente)",subtitles_previous:"Subt\xedtulos (anterior)",audio_next:"Audio (siguiente)",audio_previous:"Audio (anterior)",mute_unmute:"Activar/desactivar silencio",volume_up:"Subir volumen",volume_down:"Bajar volumen",save_position:"Guardar posici\xf3n",restore_position:"Restaurar posici\xf3n",delete_position:"Borrar posici\xf3n",like_video:"Me gusta el v\xeddeo",dislike_video:"No me gusta el v\xeddeo",remove_rating:"Eliminar calificaci\xf3n"},help:{play_pause:"Usa esta opci\xf3n para definir un atajo de teclado que alternar\xe1 entre la reproducci\xf3n del v\xeddeo y la pausa cuando se pulse.",play_faster:"Reproduce el v\xeddeo m\xe1s r\xe1pido (pulsa de nuevo para ir a\xfan m\xe1s r\xe1pido).",play_slower:"Reproduce el v\xeddeo m\xe1s lento (pulsa de nuevo para ir a\xfan m\xe1s lento).",next_frame:"Avanza solo un fotograma.\nNota: solo funciona cuando el v\xeddeo est\xe1 en pausa.",previous_frame:"Retrocede solo un fotograma.\nNota: solo funciona cuando el v\xeddeo est\xe1 en pausa.",next_episode:"Empieza a reproducir el siguiente episodio, si est\xe1s viendo una serie.",previous_episode:"Empieza a reproducir el episodio anterior, si est\xe1s viendo una serie.",toggle_pip:'Activa la funci\xf3n "Picture-in-Picture", que es cuando el v\xeddeo que est\xe1s viendo se sit\xfaa por encima de otras ventanas.',stream_stats:"Muestra estad\xedsticas internas sobre la transmisi\xf3n de v\xeddeo proveniente de Netflix.",view_history:"Muestra el historial de visualizaci\xf3n de Netflix, te permite reproducir los v\xeddeos que te gustaron y eliminar los que no.",view_show_info:"Muestra informaci\xf3n sobre la pel\xedcula o serie actual, te permite saltar a un episodio diferente.",subtitles_on_off:"Activa o desactiva los subt\xedtulos.",subtitles_size:"Recorre los tama\xf1os de los subt\xedtulos, entre peque\xf1o/mediano/grande.",subtitles_next:"Cambia el idioma de los subt\xedtulos al siguiente de la lista.",subtitles_previous:"Cambia el idioma de los subt\xedtulos al anterior en la lista.",audio_next:"Cambia el idioma del audio al siguiente de la lista.",audio_previous:"Cambia el idioma del audio al anterior en la lista.",mute_unmute:'Ten en cuenta que ya puedes usar "m" para activar o desactivar el silencio en cualquier v\xeddeo de Netflix. Esto te permite definir un nuevo atajo, siempre que no entre en conflicto con el atajo de Netflix existente.',volume_up:'Netflix ya admite aumentar el volumen con la flecha hacia arriba, pero puedes definir un segundo atajo aqu\xed y personalizar en qu\xe9 medida cambia el volumen con el campo "cambio de volumen" de abajo.',volume_down:'Netflix ya admite la disminuci\xf3n del volumen con la flecha hacia abajo, pero puedes definir un segundo atajo aqu\xed y personalizar en qu\xe9 medida cambia el volumen con el campo "cambio de volumen" de abajo.',save_position:'Guarda tu posici\xf3n actual en el v\xeddeo. Usa el atajo "restaurar" para regresar.',restore_position:"Vuelve a una posici\xf3n guardada anteriormente en el v\xeddeo que est\xe1s viendo.",delete_position:'Elimina la posici\xf3n guardada para el v\xeddeo actual. Despu\xe9s de esto, el uso del atajo "restaurar" ya no saltar\xe1 a un tiempo diferente en el v\xeddeo.',like_video:'Marca el v\xeddeo actual como "me gusta" para mejorar las recomendaciones de Netflix.',dislike_video:'Marca el v\xeddeo actual como "no me gusta", para mejorar las recomendaciones de Netflix.',remove_rating:"Elimina la clasificaci\xf3n de me gusta/no me gusta del v\xeddeo actual."},label:{extension_name:"Atajos de teclado de Netflix\u2122\ufe0f",duplicate_keys:"Teclas duplicadas",invalid_volume:"Cambio de volumen no v\xe1lido",invalid_speed:"Cambio de velocidad no v\xe1lido",revert_preferences:"\u26a0\ufe0f \xbfSeguro que quieres restaurar las preferencias?",last_saved:"\xdaltimo guardado",disclaimer:"Netflix es una marca comercial de Netflix, Inc.{{newline}}Netflix no ha creado, patrocinado o respaldado esta extensi\xf3n {{start_underline}}de ninguna forma{{end_underline}}."},button:{revert:"RESTAURAR",save:"GUARDAR",revert_initial:"Restaurar todo",revert_confirm:"S\xed",revert_cancel:"No",new_time_shortcut:"Nuevo atajo de tiempo"},feedback:{nothing:"Nada",text_only:"Solo texto",circled:"Circulado"},on_off:{yes:"S\xcd",no:"NO"},column_header:{action:"Acci\xf3n",shortcut:"Atajo de teclado",visual:"Visual",nav_shortcuts:"Atajo de teclado",nav_skip:"Omitir (seg.)",nav_enabled:"Habilitado",nav_remove:"Eliminar"},separators:{custom_shortcuts:"Atajos de teclado personalizados para saltar a trav\xe9s del v\xeddeo",num_keys:"Teclas num\xe9ricas (0 a 9)",other:"Otro ajustes"},help_text:{time_skip:"Informaci\xf3n visual",percent_jumps:"Las teclas 0-9 van del 0% al 90% del v\xeddeo",percent_jumps_feedback:"Qu\xe9 informaci\xf3n visual mostrar cuando se pulsa",volume_delta:"Cambio de volumen para accesos directos (%)",speed_delta:"Cambio de velocidad de reproducci\xf3n en esta cantidad (%)",skip_intro:"Omitir autom\xe1ticamente la introducci\xf3n de la serie",skip_recap:"Omitir autom\xe1ticamente el resumen de la serie",play_next_episode:"Reproducir autom\xe1ticamente el pr\xf3ximo episodio",double_rating:"Volver a calificar elimina la calificaci\xf3n anterior",default_lang:"Idioma de subt\xedtulos preferido",default_sub_size:"Tama\xf1o de subt\xedtulos predeterminado",revert:"Restaurar la configuraci\xf3n a los valores predeterminados",last_saved:"\xdaltimo guardado",log_level:"Nivel de registro"},help_html:{time_skip:"Para estos atajos de teclado personalizados, qu\xe9 informaci\xf3n visual mostrar en la pantalla.",percent_jumps:"Cuando pulsas las teclas 0 a 9 de tu teclado, ya sea para saltar al 0% del v\xeddeo cuando se pulsa el 0, al 10% del v\xeddeo cuando se pulsa el 1, etc. hasta el 90% con el 9. Esto permite saltar f\xe1cilmente a trav\xe9s del v\xeddeo sin tener que pulsar la misma tecla durante mucho tiempo.",percent_jumps_feedback:"Cuando pulsas las teclas 0 a 9 en tu teclado, \xbfquieres que se muestre el porcentaje del v\xeddeo al que est\xe1s saltando? De ser as\xed, \xbfcon qu\xe9 dise\xf1o?",volume_delta:"Para los atajos de teclado de subir/bajar volumen, cu\xe1nto cambiar el volumen de audio (el rango de volumen va de 0 a 100).",speed_delta:"Para los atajos de teclado de reproducir m\xe1s r\xe1pido/m\xe1s lento, cu\xe1nto cambiar la velocidad de reproducci\xf3n (por ejemplo, si el valor es 5, aumenta o disminuye en un 5 %).",skip_intro:'Cuando una serie tiene un bot\xf3n "Saltar" para saltar los cr\xe9ditos de introducci\xf3n, haz clic autom\xe1ticamente en el bot\xf3n.',skip_recap:'Cuando una serie tiene un bot\xf3n "Omitir resumen" para saltar el resumen del episodio anterior, haz clic autom\xe1ticamente en el bot\xf3n.',play_next_episode:'Cuando una serie tiene un bot\xf3n "Siguiente episodio" al final de un episodio, haz clic autom\xe1ticamente en el bot\xf3n.',double_rating:"Si est\xe1 habilitado con S\xcd, enviar la misma calificaci\xf3n dos veces (por ejemplo, \u{1f44d} y luego \u{1f44d} nuevamente) elimina la calificaci\xf3n.\nSi est\xe1 inhabilitado con NO, votar dos veces solo lo env\xeda nuevamente a Netflix, pero no elimina la calificaci\xf3n.",default_lang:'Cuando se usa el atajo para "Subt\xedtulos (activar/desactivar)", qu\xe9 idioma de subt\xedtulos seleccionar si los subt\xedtulos no se han activado antes.',default_sub_size:'Cuando se usa el atajo para "Subt\xedtulos (activar/desactivar)", qu\xe9 tama\xf1o de subt\xedtulos seleccionar.',revert:"Esto elimina *todas* las combinaciones de teclas personalizadas y las preferencias para esta extensi\xf3n y las restaura a los valores predeterminados con los que viene esta extensi\xf3n.",last_saved:"\xbfCu\xe1ndo se guardaron las preferencias por \xfaltima vez?",log_level:"Para los desarrolladores: \xbfcu\xe1nta informaci\xf3n hay que registrar en la consola del navegador?"}}}},5570:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e[e.ERROR=0]="ERROR",e[e.WARN=1]="WARN",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG",e[e.TRACE=4]="TRACE"}(r=t.LogLevel||(t.LogLevel={}));t.Logger=class{constructor(e){this.level=e}error(...e){this.level>=r.ERROR&&console.trace(...Array.prototype.slice.call(this.getPrefix("E","red").concat(Array.from(e))))}warn(...e){this.level>=r.WARN&&console.info(...Array.prototype.slice.call(this.getPrefix("W","goldenrod").concat(Array.from(e))))}info(...e){this.level>=r.INFO&&console.info(...Array.prototype.slice.call(this.getPrefix("I","blue").concat(Array.from(e))))}debug(...e){this.isDebugEnabled()&&console.debug(...Array.prototype.slice.call(this.getPrefix("D","green").concat(Array.from(e))))}trace(...e){this.isTraceEnabled()&&console.trace(...Array.prototype.slice.call(this.getPrefix("T","purple").concat(Array.from(e))))}traceNoStack(...e){this.isTraceEnabled()&&console.debug(...Array.prototype.slice.call(this.getPrefix("T","purple").concat(Array.from(e))))}isDebugEnabled(){return this.level>=r.DEBUG}isTraceEnabled(){return this.level>=r.TRACE}getPrefix(e,t){return[`%c[${e}]`,`color: ${t}; font-weight: bold;`]}}},8489:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.swallowEventIfConflictingWithNetflix=t.NetflixReserved=void 0;const n=r(9692),o=r(8707),i=r(3727);class s{constructor(e,t){this.fun=e,this.message=t}}class a{constructor(e){this.shortcuts=e,this.validators=[new s((()=>this.hasFullScreenShortcut()),n._t("reserved.f_full_screen")),new s((()=>this.hasMuteShortcut()),n._t("reserved.m_mute_unmute")),new s((()=>this.hasLeftRightArrowShortcuts()),n._t("reserved.arrows_scrubbing")),new s((()=>this.hasUpDownArrowShortcuts()),n._t("reserved.arrows_volume")),new s((()=>this.hasSpaceShortcut()),n._t("reserved.space_play_pause")),new s((()=>this.hasEnterShortcut()),n._t("reserved.enter_play_pause")),new s((()=>this.hasLogsShortcut()),n._t("reserved.shortcut_logs",{alt:o.Portability.altKey(),shift:"\u21e7"})),new s((()=>this.hasDebugShortcut()),n._t("reserved.shortcut_debug",{alt:o.Portability.altKey(),shift:"\u21e7"}))]}usesReservedKeys(){return this.validators.some((e=>e.fun.apply(this)))}hasFullScreenShortcut(){return this.shortcuts.some((e=>e.letter&&"KeyF"===e.code))}hasMuteShortcut(){return this.shortcuts.some((e=>e.letter&&"KeyM"===e.code))}hasLeftRightArrowShortcuts(){return this.shortcuts.some((e=>"ArrowLeft"===e.code||"ArrowRight"===e.code))}hasUpDownArrowShortcuts(){return this.shortcuts.some((e=>"ArrowUp"===e.code||"ArrowDown"===e.code))}hasSpaceShortcut(){return this.shortcuts.some((e=>"Space"===e.code))}hasEnterShortcut(){return this.shortcuts.some((e=>"Enter"===e.code))}hasLogsShortcut(){const e=new i.Shortcut(!0,!0,!0,!1,!1,!0,"KeyL","\xd2");return this.shortcuts.some((t=>t.equals(e)))}hasDebugShortcut(){const e=new i.Shortcut(!0,!0,!0,!1,!1,!0,"KeyD","\xce");return this.shortcuts.some((t=>t.equals(e)))}errorDescription(){var e;return(null===(e=this.validators.find((e=>e.fun.apply(this))))||void 0===e?void 0:e.message)||null}}t.NetflixReserved=a,t.swallowEventIfConflictingWithNetflix=function(e){new a([i.Shortcut.fromKeyDownEvent(e)]).usesReservedKeys()&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}},6501:(e,t)=>{"use strict";function r(e,t){const r=Object.create(t);return Object.assign(r,e),r}Object.defineProperty(t,"__esModule",{value:!0}),t.convertType=t.convertTypes=void 0,t.convertTypes=function(e,t){return e.map((e=>r(e,t)))},t.convertType=r},2913:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommonInfoOverlay=void 0;const n=r(9692),o=r(7892);class i{constructor(e,t,r){this.SVG_UNSELECTED_FILL_COLOR="rgba(220,220,220,0.6)",this.SVG_SELECTED_FILL_COLOR="white",this.SVG_LINES_COLOR="black",this._metadata=e,this.userPrefs=t,this.handleVote=r}voteBlock(e){const t=e===o.ThumbsRating.LIKE,r=e===o.ThumbsRating.DISLIKE;return`<div class="common-info-ratings-box">\n                <div class="common-info-rating"><a title="${n._t("common_overlay.like_video")}" id="${i.VOTE_UP_BUTTON_ID}">${this.getThumbsUpSvg(t)}</a></div>\n                <div class="common-info-rating"><a title="${n._t("common_overlay.dislike_video")}" id="${i.VOTE_DOWN_BUTTON_ID}">${this.getThumbsDownSvg(r)}</a></div>\n            </div>`}setupVoteButtons(){this.getLikeButton().addEventListener("click",(()=>this.applyThumbsRating(this.getCurrentRating()===o.ThumbsRating.LIKE?o.ThumbsRating.REMOVE:o.ThumbsRating.LIKE))),this.getDislikeButton().addEventListener("click",(()=>this.applyThumbsRating(this.getCurrentRating()===o.ThumbsRating.DISLIKE?o.ThumbsRating.REMOVE:o.ThumbsRating.DISLIKE)))}getDislikeButton(){return document.getElementById(i.VOTE_DOWN_BUTTON_ID)}getLikeButton(){return document.getElementById(i.VOTE_UP_BUTTON_ID)}handleThumbsRatingShortcut(e){this.userPrefs.other.doubleRatingCancels&&this.getCurrentRating()===e&&(e=o.ThumbsRating.REMOVE),this.applyThumbsRating(e)}applyThumbsRating(e){this.handleVote(e),this.getLikeButton().innerHTML=this.getThumbsUpSvg(e===o.ThumbsRating.LIKE),this.getDislikeButton().innerHTML=this.getThumbsDownSvg(e===o.ThumbsRating.DISLIKE),this._metadata.userRating.userRating=e}getCurrentRating(){return this._metadata.userRating.userRating}getThumbsUpSvg(e){return this.getSvg(this.SVG_LINES_COLOR,e?this.SVG_SELECTED_FILL_COLOR:this.SVG_UNSELECTED_FILL_COLOR,!1)}getThumbsDownSvg(e){return this.getSvg(this.SVG_LINES_COLOR,e?this.SVG_SELECTED_FILL_COLOR:this.SVG_UNSELECTED_FILL_COLOR,!0)}getSvg(e,t,r){return`<svg width="24" height="24" style="${r?"transform: scale(-1, -1);":""}" enable-background="new 0 0 1000 1000" version="1.1" viewBox="0 0 1e3 1e3" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">\n<g transform="translate(0 512) scale(.1 -.1)"><path fill="${e}" d="m5779.3 4995c-203.2-65.2-366.2-228.1-440.9-439-19.2-59.4-49.8-203.2-67.1-322.1-61.4-448.6-168.7-824.3-320.2-1117.6-69-134.2-128.4-203.2-483.1-565.5-559.8-569.4-625-667.1-845.4-1259.5-232-621.1-360.4-856.9-588.5-1073.5l-124.6-120.8-97.8 65.2c-153.4 103.5-220.5 109.3-1079.3 103.5l-772.6-5.7-105.4-49.9c-126.5-61.4-235.8-164.9-302.9-295.2l-51.8-95.9v-3891.6l42.2-90.1c51.8-115 182.1-243.5 302.9-304.8l95.9-46h1706.2l99.7 51.8c55.6 30.7 130.4 84.3 166.8 120.8l67.1 65.2 216.5-19.3c345.1-28.8 552.1-67.1 1012.2-189.8 935.5-245.3 1219.3-295.2 1715.8-295.2 239.6 0 456.3 11.5 632.6 34.5 692.1 88.2 1355.4 222.4 1618 329.7 306.7 122.7 554 324 671 542.5 82.4 157.2 92 262.6 42.1 475.4-21.1 95.8-40.2 185.9-40.2 199.4 0 15.4 57.5 105.4 126.5 199.4 69 95.8 157.2 235.8 195.5 314.4 65.2 134.2 69 153.3 69 316.3-1.9 134.2-13.4 210.9-53.7 333.6l-51.7 159.1 118.8 157.2c65.2 86.3 145.7 212.8 178.3 281.8 53.7 111.2 59.4 141.9 57.5 297.1-1.9 199.4-40.3 327.8-162.9 534.8l-78.6 130.4 97.8 205.1c109.2 228.1 155.3 385.3 155.3 529.1 0 251.1-170.6 580.9-435.2 841.6-176.4 174.5-335.5 251.1-590.4 289.5-325.9 46-856.9 69-1466.5 65.2-532.9-5.8-590.4-3.8-655.6 28.8-40.2 19.2-72.8 42.2-72.8 51.8 0 38.3 130.4 274.1 337.4 605.8 118.9 191.7 239.6 393 266.5 448.6 161 314.4 186 858.8 65.2 1341.9-122.7 485-389.2 881.8-682.5 1018-151.6 70.9-347.2 90-487.1 44zm306.7-672.9c99.7-107.3 218.5-350.8 270.3-554 51.8-197.5 69-517.6 40.3-688.2-28.8-161-61.3-230-329.7-659.5-312.5-502.3-419.8-743.8-419.8-952.8 0-224.3 258.8-486.9 575.1-586.6 116.9-36.4 180.2-40.3 948.9-44.1 776.4-5.7 1138.7-24.9 1315.1-70.9 90.1-23 279.9-222.4 352.8-370 69-141.8 59.4-191.7-84.4-475.4-195.6-379.6-195.6-440.9-2-766.8 61.3-105.4 118.9-216.6 124.6-245.4 15.3-69-17.3-132.3-178.3-343.2-226.2-295.2-239.6-377.7-128.5-703.6 46-138 69-230 61.3-258.8-7.7-24.9-72.8-128.4-147.6-228.1-222.4-302.9-239.6-335.5-245.4-498.4-3.8-93.9 5.7-201.3 30.7-310.6l38.3-168.7-86.3-78.6c-47.9-44.1-147.6-107.4-222.4-141.9-289.5-132.3-1305.5-314.4-1938.1-347-394.9-21.1-820.5 49.8-1660.2 270.3-513.8 136.1-822.4 195.5-1113.8 214.7l-189.8 11.5v1583.5l1.9 1583.5 80.5 51.8c122.7 76.7 337.4 270.3 440.9 393 199.4 239.6 343.2 523.3 580.9 1152.1 95.8 253 168.7 412.2 232 508 53.7 80.5 258.8 306.7 494.6 550.2 435.2 442.8 523.3 559.8 661.4 878 130.4 302.9 216.6 630.7 287.6 1090.8 48.1 326 74.9 352.8 209.1 205.2zm-3602.1-6448.9v-1782.9h-1380.2v3565.8h1380.2v-1782.9z"/></g>`+(t?`<path d="m573.88 928.29c-30.578-2.7194-64.68-9.4893-126.78-25.168-64.229-16.217-88.943-21.07-116.06-22.791-5.9851-0.37991-13.073-0.96091-15.75-1.2911l-4.8683-0.60038v-315.52l3.7228-2.1609c13.986-8.1183 42.977-34.539 54.031-49.242 16.228-21.584 29.323-48.213 50.047-101.77 11.461-29.618 22.01-52.417 27.586-59.621 6.7944-8.7772 29.051-33.188 51.866-56.886 43.829-45.526 53.846-60.291 68.696-101.26 8.7559-24.155 13.953-45.588 21.163-87.278 2.407-13.918 5.0918-26.799 5.9662-28.623 2.4048-5.0173 5.1535-4.8067 10.976 0.84132 14.346 13.915 28.055 43.235 33.123 70.842 2.9037 15.816 2.9326 52.665 0.0494 63.001-2.661 9.539-12.064 27.41-27.724 52.692-35.509 57.326-45.208 78.946-45.208 100.78 0 9.1658 0.34374 10.714 4.0011 18.025 8.2186 16.428 28.16 33.068 48.409 40.395 13.589 4.9169 22.402 5.4807 98.22 6.2827 86.262 0.91244 123.52 3.1223 135.25 8.0208 8.5625 3.5776 26.096 23.194 32.971 36.887 6.2754 12.499 5.2469 17.757-9.0602 46.324-16.775 33.494-17.766 41.619-7.5692 62.051 3.2137 6.4395 8.696 16.863 12.183 23.163 9.1106 16.461 9.5593 18.382 6.0585 25.931-1.5666 3.3782-8.3605 13.611-15.098 22.74-6.737 9.1288-13.896 19.945-15.908 24.035-3.4078 6.926-3.6528 8.2256-3.5648 18.912 0.0838 10.183 0.63329 13.151 4.8804 26.366 2.6322 8.1902 5.3849 17.787 6.1171 21.326 1.6133 7.7984 1.5572 7.9096-17.298 34.23-6.9956 9.7652-14.389 21.093-16.43 25.174-3.4702 6.9391-3.7363 8.3261-4.1133 21.437-0.33883 11.785 0.10264 16.583 2.7709 30.117l3.1739 16.099-3.3436 3.5314c-7.8214 8.2606-23.777 17.746-38.089 22.643-28.755 9.8387-98.126 22.659-152.54 28.191-17.87 1.8166-52.281 3.0266-61.856 2.1751z" fill="${t}" stroke="${t}" stroke-linejoin="round" stroke-width="2.234"/><path d="m111.11 724.51v-178.12h136.31v356.24h-136.31z" fill="${t}" stroke="${t}" stroke-linejoin="round" stroke-width="2.234"/>`:"")+"</svg>"}handleKeyboardEvent(e){}updateUserPrefs(e){this.userPrefs=e}}t.CommonInfoOverlay=i,i.VOTE_UP_BUTTON_ID="common-info-vote-up",i.VOTE_DOWN_BUTTON_ID="common-info-vote-down"},4995:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryOverlay=void 0;const n=r(8489),o=r(9692);class i{constructor(e,t,r){this.selectedRow=0,this.activity=e,this.currentMovieId=t,this.deletionCallback=r}render(){const e=(this.activity.viewedItems||[]).map(((e,t)=>{const r=new Date(e.date),n=r.toLocaleDateString(o._t("language.code"),{month:"short",day:"numeric"});let s="";s="episodeTitle"in e&&"seriesTitle"in e?`${e.seriesTitle} &ndash; ${e.episodeTitle}`:e.title;const a=r.toLocaleString("default",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}),l=`document.getElementById('${i.OVERLAY_ELEMENT_ID}').remove(); return true;`;return`<div class="history-row ${t==this.selectedRow?i.SELECTED_ROW_CSS_CLASS:""}" id="${this.getRowIdForMovieId(e.movieID)}">\n                <span class="history-date" title="${a}">${n}</span>\n                <span class="history-info"><a title="${o._t("history.open_info")}" href="https://www.netflix.com/title/${e.topNodeId}" onclick="${l}">${this.renderInfoIcon()}</a></span>\n                <span class="history-title"><a title="${o._t("history.watch_again")}" onclick="${l}" href="https://www.netflix.com/watch/${e.movieID}">${s}</a></span>\n                <span class="history-action"><a title="${o._t("history.delete")}" id="${this.getTrashIdForMovieId(e.movieID)}">${this.renderTrashIcon()}</a></span>\n            </div>`}));return`<div class="history-root-overlay" id="${i.OVERLAY_ELEMENT_ID}"\n                     onclick="if(event.target.id == '${i.OVERLAY_ELEMENT_ID}'){document.getElementById(event.target.id).remove();}">\n            <div class="history-info">\n            <h1 class="history-banner">${this.renderRewindIcon()} ${o._t("history.viewing")}</h1>\n                ${e.join("")}\n            </div>\n        </div>`}handleKeyboardEvent(e){var t,r,o;if(n.swallowEventIfConflictingWithNetflix(e),0==this.activity.viewedItems.length)return;const s={ArrowDown:1,ArrowUp:-1,PageDown:10,PageUp:-10,Home:-1e3,End:1e3};if(e.key in s){const r=s[e.key],n=this.activity.viewedItems[this.selectedRow];null===(t=document.getElementById(this.getRowIdForMovieId(n.movieID)))||void 0===t||t.classList.remove(i.SELECTED_ROW_CSS_CLASS),this.updateSelectedRowWithDelta(r),this.updateCssForSelectedRow()}else if("Delete"===e.key||"Backspace"===e.key){const e=this.activity.viewedItems[this.selectedRow],t=document.getElementById(this.getRowIdForMovieId(e.movieID));t&&(t.remove(),this.activity.viewedItems.splice(this.selectedRow,1),this.updateSelectedRowWithDelta(0),this.updateCssForSelectedRow(),null===(r=this.deletionCallback)||void 0===r||r.call(this,e.movieID))}else if("Enter"===e.key){null===(o=document.getElementById(i.OVERLAY_ELEMENT_ID))||void 0===o||o.remove();const e=this.activity.viewedItems[this.selectedRow];e.movieID!=this.currentMovieId&&(location.href=`https://www.netflix.com/watch/${e.movieID}`)}}updateSelectedRowWithDelta(e){this.selectedRow=Math.max(0,Math.min(this.selectedRow+e,this.activity.viewedItems.length-1))}updateCssForSelectedRow(){var e;if(this.activity.viewedItems.length>0){const t=this.activity.viewedItems[this.selectedRow];null===(e=document.getElementById(this.getRowIdForMovieId(t.movieID)))||void 0===e||e.classList.add(i.SELECTED_ROW_CSS_CLASS)}}renderInfoIcon(){return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" preserveAspectRatio="xMidYMid" width="24px" height="24px">\n            <path fill="white" d="M9.5 16A6.61 6.61 0 0 1 3 9.5 6.61 6.61 0 0 1 9.5 3 6.61 6.61 0 0 1 16 9.5 6.63 6.63 0 0 1 9.5 16zm0-14A7.5 7.5 0 1 0 17 9.5 7.5 7.5 0 0 0 9.5 2zm.5 6v4.08h1V13H8.07v-.92H9V9H8V8zM9 6h1v1H9z"/>\n        </svg>'}getRowIdForMovieId(e){return"history-row-"+e}getTrashIdForMovieId(e){return"history-trash-"+e}installClickEventHandlers(){(this.activity.viewedItems||[]).forEach((e=>{const t=document.getElementById(this.getRowIdForMovieId(e.movieID)),r=document.getElementById(this.getTrashIdForMovieId(e.movieID));t&&r&&r.addEventListener("click",(()=>{t.remove(),this.deletionCallback(e.movieID)}))}))}renderRewindIcon(){return'<svg style="margin-bottom: -8px; margin-right: 8px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 108.12" preserveAspectRatio="xMidYMid" width="36px" height="36px">\n             <path fill="white" d="M28.45,55.88c0,.11,0,.22,0,.32l4.44-4.46a6.68,6.68,0,1,1,9.48,9.42L27.14,76.51a6.69,6.69,0,0,1-9.32.15L2.28,63A6.68,6.68,0,0,1,11.08,53l4,3.54v0a54.33,54.33,0,0,1,8-31,52.56,52.56,0,0,1,24-20.73,60.17,60.17,0,0,1,11-3.51,52.58,52.58,0,0,1,60.1,31.09,58.07,58.07,0,0,1,3.47,11,52.47,52.47,0,0,1-1.31,26.95A53.16,53.16,0,0,1,105.8,93a57.11,57.11,0,0,1-22.56,13.1,48.52,48.52,0,0,1-40.51-5.89A6.68,6.68,0,0,1,50,89a35.12,35.12,0,0,0,5.53,3,34.21,34.21,0,0,0,5.7,1.86,35.43,35.43,0,0,0,18.23-.54A43.77,43.77,0,0,0,96.74,83.19a39.7,39.7,0,0,0,10.93-17.06,39,39,0,0,0,1-20.08,46.38,46.38,0,0,0-2.68-8.5,39.19,39.19,0,0,0-45-23.22,45,45,0,0,0-8.52,2.72A39,39,0,0,0,34.5,32.49a40.94,40.94,0,0,0-6.05,23.39ZM60.83,34a6.11,6.11,0,0,1,12.22,0V53l14.89,8.27A6.09,6.09,0,1,1,82,71.93L64.43,62.16a6.11,6.11,0,0,1-3.6-5.57V34Z"/>\n             </svg>\n        '}renderTrashIcon(){return'<?xml version="1.0" encoding="iso-8859-1"?>\n        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n             viewBox="0 0 512 512" preserveAspectRatio="xMidYMid" width="24px" height="24px" style="enable-background:new 0 0 512 512;" xml:space="preserve">\n        <g>\n            <g>\n                <g>\n                    <path d="M490.667,85.333h-42.665H448h-68.675l-7.012-28.062C363.905,23.609,333.658,0,298.965,0h-85.931\n                        c-34.693,0-64.94,23.609-73.348,57.273l-7.012,28.06H64.002c0,0-0.001,0-0.001,0c0,0,0,0-0.001,0H21.333\n                        C9.551,85.333,0,94.885,0,106.667C0,118.449,9.551,128,21.333,128h22.488l17.974,323.53C63.683,485.452,91.744,512,125.719,512\n                        h260.565c33.975,0,62.036-26.548,63.924-60.468L468.183,128h22.484c11.782,0,21.333-9.551,21.333-21.333\n                        C512,94.885,502.449,85.333,490.667,85.333z M181.081,67.614c3.663-14.664,16.838-24.948,31.954-24.948h85.931\n                        c15.116,0,28.291,10.284,31.953,24.946l4.428,17.721H176.653L181.081,67.614z M407.608,449.163\n                        c-0.63,11.311-9.993,20.17-21.324,20.17H125.719c-11.33,0-20.694-8.859-21.324-20.172L86.554,128h62.78h213.333h62.784\n                        L407.608,449.163z" fill="white"/>\n                    <path d="M170.667,170.667c-11.782,0-21.333,9.551-21.333,21.333v213.333c0,11.782,9.551,21.333,21.333,21.333\n                        c11.782,0,21.333-9.551,21.333-21.333V192C192,180.218,182.449,170.667,170.667,170.667z" fill="white"/>\n                    <path d="M256,170.667c-11.782,0-21.333,9.551-21.333,21.333v213.333c0,11.782,9.551,21.333,21.333,21.333\n                        s21.333-9.551,21.333-21.333V192C277.333,180.218,267.782,170.667,256,170.667z" fill="white"/>\n                    <path d="M341.333,170.667C329.551,170.667,320,180.218,320,192v213.333c0,11.782,9.551,21.333,21.333,21.333\n                        c11.782,0,21.333-9.551,21.333-21.333V192C362.667,180.218,353.115,170.667,341.333,170.667z" fill="white"/>\n                </g>\n            </g>\n        </g>\n        </svg>\n        '}}t.HistoryOverlay=i,i.OVERLAY_ELEMENT_ID="history-overlay",i.SELECTED_ROW_CSS_CLASS="history-row-selected"},5952:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MovieInfoOverlay=void 0;const n=r(9692),o=r(2913);class i extends o.CommonInfoOverlay{constructor(e,t,r){super(e,t,r),this.metadata=e}render(){return`<div class="common-info-root-overlay" id="${i.OVERLAY_ELEMENT_ID}"\n                     onclick="if(event.target.id == '${i.OVERLAY_ELEMENT_ID}'){document.getElementById(event.target.id).remove();}">\n            <div class="common-info" id="${i.INFO_PANEL_ID}">\n            <img class="common-info-poster" src="${this.metadata.artwork[0].url}"/>\n            <h2 class="common-info-title">${this.metadata.title}</h2>`+this.voteBlock(this.metadata.userRating.userRating)+(null!==this.metadata.userRating.matchScore?`<span title="${n._t("movie_overlay.predicted_match")}" class="common-info-matchscore common-info-sep">\n                ${n._t("movie_overlay.percent_match",{percent:this.metadata.userRating.matchScore})}\n            </span>`:"")+(this.metadata.year?`<span class="movie-info-year common-info-sep">${this.metadata.year}</span>`:"")+(this.metadata.rating?`<span class="common-info-maturity common-info-sep">${this.metadata.rating}</span>`:"")+(this.metadata.hd?`<span class="common-info-quality common-info-sep">${n._t("movie_overlay.quality_hd")}</span>`:"")+(this.metadata.displayRuntime?`<span class="movie-info-duration common-info-sep">\n                ${n._t("movie_overlay.duration_minutes",{duration:Math.floor(this.metadata.displayRuntime/60)})}\n            </span>`:"")+`<p class="common-info-synopsis">${this.metadata.synopsis||`${n._t("movie_overlay.no_synopsis")}`}</p>\n            </div>\n        </div>`}initialize(){this.setupVoteButtons()}}t.MovieInfoOverlay=i,i.OVERLAY_ELEMENT_ID="movie-info-overlay",i.INFO_PANEL_ID="movie-info-panel"},2556:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowInfoOverlay=void 0;const n=r(9692),o=r(8489),i=r(2913);class s extends i.CommonInfoOverlay{constructor(e,t,r){super(e,t,r),this.selectedEpisodeIndex=0,this.metadata=e,this.totalEpisodeCount=this.metadata.seasons.reduce(((e,t)=>e+t.episodes.length),0),this.flattenedEpisodes=[];let n=0;for(const e of this.metadata.seasons)for(const t of e.episodes)this.flattenedEpisodes.push(t),t.id===this.metadata.currentEpisode&&(this.selectedEpisodeIndex=n),n++;this.episodeIdToSeasonIndex=new Map;for(let e=0;e<this.metadata.seasons.length;e++){const t=this.metadata.seasons[e];for(let r=0;r<t.episodes.length;r++){const n=t.episodes[r];this.episodeIdToSeasonIndex.set(n.id,e)}}}render(){const e=this.metadata.seasons.reduce(((e,t)=>t.year>e?t.year:e),0),t=this.metadata.seasons.some((e=>e.episodes.some((e=>e.hd)))),r=[];let o=0;for(let e=0;e<this.metadata.seasons.length;e++){const t=this.metadata.seasons[e];r.push(this.renderSeasonHeader(e));for(let i=0;i<this.metadata.seasons[e].episodes.length;i++){const e=t.episodes[i],s=`<div id="episode-row-${o}" class="episode-row ${i==t.episodes.length-1?"episode-row-last":""} ${o==this.selectedEpisodeIndex?"episode-row-selected":""}">\n                    <div class="episode-number">${e.seq}</div>\n                    <div class="episode-artwork" style="background-image: url(${e.thumbs[0].url});">${this.renderPlayButton()}</div>\n                    <div class="episode-subrow">\n                        <div class="episode-title">${e.title}</div>\n                        <div class="episode-duration">\n                            ${n._t("show_overlay.duration_minutes",{duration:Math.floor(e.displayRuntime/60)})}\n                        </div>\n                        <div class="episode-synopsis">${e.synopsis}</div>\n                    </div>\n                </div>`;r.push(s),o++}}let i="";return this.flattenedEpisodes.length<4&&(i=`style="height: ${120*this.flattenedEpisodes.length}px" `),`<div class="common-info-root-overlay" id="${s.OVERLAY_ELEMENT_ID}"\n                     onclick="if(event.target.id == '${s.OVERLAY_ELEMENT_ID}'){document.getElementById(event.target.id).remove();}">\n            <div class="common-info" id="${s.INFO_PANEL_ID}">\n            <img class="common-info-poster" ${this.metadata.artwork?`src="${this.metadata.artwork[0].url}"`:""}/><h2 class="common-info-title">${this.metadata.title}</h2>`+this.voteBlock(this.metadata.userRating.userRating)+(null!==this.metadata.userRating.matchScore?`<span title="${n._t("show_overlay.predicted_match")}" class="common-info-matchscore common-info-sep">\n                ${n._t("show_overlay.percent_match",{percent:this.metadata.userRating.matchScore})}\n            </span>`:"")+(0!==e?`<span class="show-info-year common-info-sep">${e}</span>`:"")+(this.metadata.rating?`<span class="common-info-maturity common-info-sep">${this.metadata.rating}</span>`:"")+`<span class="show-info-seasons common-info-sep">\n                ${n._t("show_overlay.num_seasons",{smart_count:this.metadata.seasons.length})}\n            </span>`+(t?`<span class="common-info-quality common-info-sep">${n._t("show_overlay.quality_hd")}</span>`:"")+`<p class="common-info-synopsis">${this.metadata.synopsis||`${n._t("show_overlay.no_synopsis")}`}</p>\n             <div class="show-info-episodes" ${i} id="${s.SCROLL_CONTAINER_ID}">\n                ${r.join("")}\n            </div>\n            </div>\n        </div>`}initialize(){this.scrollToSelectedEpisode("auto"),this.setupVoteButtons();let e=0;for(let t=0;t<this.metadata.seasons.length;t++){const r=this.metadata.seasons[t];for(let t=0;t<r.episodes.length;t++){const t=document.getElementById(`episode-row-${e}`),r=e;null==t||t.addEventListener("click",(()=>{const e=this.flattenedEpisodes[r];this.playEpisodeWithId(e.id)})),e++}}}handleKeyboardEvent(e){var t,r;o.swallowEventIfConflictingWithNetflix(e);const n={ArrowDown:1,ArrowUp:-1,PageDown:3,PageUp:-3,Home:-1e3,End:1e3};if(e.key in n){const o=n[e.key];null===(t=document.getElementById(`episode-row-${this.selectedEpisodeIndex}`))||void 0===t||t.classList.remove("episode-row-selected"),this.selectedEpisodeIndex=Math.max(0,Math.min(this.selectedEpisodeIndex+o,this.totalEpisodeCount-1)),null===(r=document.getElementById(`episode-row-${this.selectedEpisodeIndex}`))||void 0===r||r.classList.add("episode-row-selected"),this.scrollToSelectedEpisode("smooth")}else"Enter"===e.key&&this.playSelectedEpisode()}playSelectedEpisode(){const e=this.flattenedEpisodes[this.selectedEpisodeIndex];this.playEpisodeWithId(e.id)}playEpisodeWithId(e){var t;null===(t=document.getElementById(s.OVERLAY_ELEMENT_ID))||void 0===t||t.remove(),e!==this.metadata.currentEpisode&&(location.href=`https://www.netflix.com/watch/${e}`)}scrollToSelectedEpisode(e){var t;const r=document.getElementById(s.SCROLL_CONTAINER_ID),n=this.getBlockForSelectedEpisode();r&&n&&r.scrollTo({top:null!==(t=n.offsetTop-r.offsetTop)&&void 0!==t?t:0,behavior:e})}getBlockForSelectedEpisode(){const e=Math.max(0,Math.min(this.selectedEpisodeIndex+-1,this.totalEpisodeCount-1)),t=this.flattenedEpisodes[e];if(1===t.seq){const e=this.episodeIdToSeasonIndex.get(t.id);if(void 0!==e)return document.getElementById(this.seasonHeaderForIndex(e))}return document.getElementById(`episode-row-${e}`)}renderSeasonHeader(e){const t=this.metadata.seasons[e];return`<div class="season-header" id="${this.seasonHeaderForIndex(e)}">\n            ${t.year?n._t("show_overlay.season_number.with_year",{number:t.seq,year:t.year}):n._t("show_overlay.season_number.no_year",{number:t.seq})}\n        </div>`}seasonHeaderForIndex(e){return`season-header-${e}`}renderPlayButton(){return'\n        <svg\n        version="1.1"\n        preserveAspectRatio="xMidYMid"\n        width="40px"\n        height="40px"\n        viewBox="0 0 60 60"\n        style="enable-background:new 0 0 60 60;"\n        xml:space="preserve">\n        <g>\n          <ellipse\n           style="fill:#666;stroke:#ffffff;stroke-width:2.15;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;fill-opacity:1"\n           id="path956"\n           ry="28.183435"\n           rx="28.296124"\n           cy="30.103092"\n           cx="29.940866" />\n          <path\n           fill="#ffffff"\n           d="M45.563,29.174l-22-15c-0.307-0.208-0.703-0.231-1.031-0.058C22.205,14.289,22,14.629,22,15v30                 c0,0.371,0.205,0.711,0.533,0.884C22.679,45.962,22.84,46,23,46c0.197,0,0.394-0.059,0.563-0.174l22-15                 C45.836,30.64,46,30.331,46,30S45.836,29.36,45.563,29.174z M24,43.107V16.893L43.225,30L24,43.107z"\n           style="fill-opacity:1" />\n        </g>\n     </svg>\n        '}}t.ShowInfoOverlay=s,s.OVERLAY_ELEMENT_ID="show-info-overlay",s.INFO_PANEL_ID="show-info-panel",s.SCROLL_CONTAINER_ID="show-episodes-scroll-container"},8707:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserStorage=t.Portability=void 0;class r{static altKey(){return r.isMacOS()?"\u2325":"Alt"}static metaKey(){return r.isMacOS()?"\u2318":"\u229e Win"}static isMacOS(){return-1!==window.navigator.platform.indexOf("Mac")&&(-1!==window.navigator.appVersion.indexOf("Mac OS")||-1!==window.navigator.appVersion.indexOf("Macintosh"))}}t.Portability=r;t.BrowserStorage=class{static get(e,t){chrome.storage.sync.get(e,t)}static set(e,t){chrome.storage.sync.set(e,t)}}},2629:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handlePercentTimeSkip=t.applyTimeSkip=t.clickSkipOrNextButtonIfFound=t.playNeighborEpisode=t.bookmarkDelete=t.bookmarkRestore=t.bookmarkBackup=t.skipFrame=t.moveToPosition=t.reapplyPlaybackRate=t.changePlaybackSpeed=void 0;const n=r(2177),o=r(8593),i=r(2694),s=r(2497),a=r(9242);function l(e){return e==Math.floor(e)?`${e}x`:e.toFixed(2).endsWith("0")?`${e.toFixed(1)}x`:`${e.toFixed(2)}x`}function u(e,t){const r=o.getVideoTag();if(r&&null!==e.savedPlaybackRate)try{r.playbackRate=e.savedPlaybackRate}catch(r){t.logger.warn(`Failed to apply playback rate of ${l(e.savedPlaybackRate)}`,r)}}function c(e,t,r){t.seek(r),e.lastExpectedTimeMillis=r}function d(e){const t=new CustomEvent(a.ContentToBackgroundEvents.SAVE_PREFS,{detail:{action:"saveUserPrefs",prefs:JSON.stringify(e)}});window.dispatchEvent(t)}function p(e,t,r,n){t.logger.debug(`Going to ${(100*n).toFixed(0)}% of current video`),c(e,r,n*r.getDuration())}t.changePlaybackSpeed=function(e,t,r,i,s){const a=r.playbackRate,c=o.limitRange(.1,10,a+i*t.other.speedDelta/100);t.logger.debug(`Setting new playback rate: ${c.toFixed(2)}`),n.displayTextAction(l(c),s),e.savedPlaybackRate=c,u(e,t)},t.reapplyPlaybackRate=u,t.moveToPosition=c,t.skipFrame=function(e,t,r,i){const s=e.lastExpectedTimeMillis||0,a=function(e){try{const t=e.getDiagnostics().getGroups()[5].Framerate,r=void 0!==t?parseFloat(t):0;if(r>0&&r<200)return r}catch(e){}return 24}(t),l=o.limitRange(0,t.getDuration(),s+1e3*r/a);c(e,t,l),n.displayTextAction(r>0?"\u203a":"\u2039",i)},t.bookmarkBackup=function(e,t,r,o){const s=e.lastExpectedTimeMillis||0,a=r.isPaused()&&s>0?s:r.getCurrentTime(),l=new i.SavePoint(a,r.isPlaying());t.bookmarks.savePoints[r.getMovieId()]=l,t.logger.debug("Created save point:",l),n.displayTextAction("\u{1f4be}",o),d(t)},t.bookmarkRestore=function(e,t,r,s){if(!t.bookmarks||!t.bookmarks.savePoints)return;const a=t.bookmarks.savePoints[r.getMovieId()];if(void 0!==a)switch(t.logger.debug("Restore save point:",a,"playAction:",t.bookmarks.playAction),n.displayTextAction("\u238c",s),c(e,r,o.limitRange(0,r.getDuration(),a.time)),t.bookmarks.playAction){case i.BookmarkRestoreAction.keepCurrentState:return;case i.BookmarkRestoreAction.startPlaying:return void r.play();case i.BookmarkRestoreAction.preserveSavedState:return void(a.playing?r.play():r.pause());default:return void t.logger.warn("Invalid bookmark play action:",t.bookmarks.playAction)}else t.logger.debug("No save point found for movie ID",r.getMovieId())},t.bookmarkDelete=function(e,t,r){delete e.bookmarks.savePoints[t.getMovieId()],e.logger.debug("Deleted save point for movie ID",t.getMovieId()),n.displayTextAction("\u{1f4be}\u2192\u{1f5d1}",r),d(e)},t.playNeighborEpisode=function(e,t,r,o,i){if(1===o){const e=document.querySelector("button.button-nfplayerNextEpisode");if(e)return t.logger.debug('Found "next episode" button, clicking on it\u2026'),void e.click()}const a=o>0?.99999:0,l=o>0?"\u23ed":"\u23ee";new s.ShaktiClient(t,r).getShaktiInfo().then((s=>{t.logger.debug("Found movie metadata!",s);const u=function(e,t,r){if("show"!==t.video.type)return null;const n=t.video,o=n.currentEpisode,i=n.seasons;if(!o||!i)return e.logger.debug("curEpisodeId:",o," seasons:",i),null;const s=[];let a=-1;for(let t=0;t<i.length;t++){const r=i[t].episodes;if(void 0!==r)for(let n=0;n<r.length;n++){const i=r[n].id;i===o&&(a=s.length,e.logger.debug(`Found current episode at global offset ${a} in season ${t+1}, episode ${n+1}`)),s.push(i)}}const l=a+r;if(-1!==a&&l>=0&&l<s.length)return s[l];return null}(t,s,o);t.logger.debug(o>0?`Next episode ID: ${u}`:`Previous episode ID: ${u}`),u?(n.displayTextAction(l,i),t.logger.info("Reloading window, going to "+("/watch/"+u)),document.location.href="https://www.netflix.com/watch/"+u):(n.displayTextAction(l,i),p(e,t,r,a))})).catch((()=>{n.displayTextAction(l,i),p(e,t,r,a)}))},t.clickSkipOrNextButtonIfFound=function(e){const t=[{enabled:e.other.skipIntroEnabled,selector:'button[data-uia*="player-skip-intro"]'},{enabled:e.other.skipRecapEnabled,selector:'button[data-uia="player-skip-recap"]'},{enabled:e.other.playNextEpisodeEnabled,selector:'button[data-uia*="next-episode"]'}];for(const{enabled:e,selector:r}of t)if(e){const e=document.querySelector(r);e&&e.click()}},t.applyTimeSkip=function(e,t,r,i){const s=(i.deltaSec>0?"+":"")+i.deltaSec+"s";if(t.logger.debug("Applying time skip: "+s),n.displayTextAction(s,t.keys.timeSkipBinding.feedback),0!=i.deltaSec){const t=r.getCurrentTime()+1e3*i.deltaSec;c(e,r,o.limitRange(0,r.getDuration(),t))}},t.handlePercentTimeSkip=function(e,t,r,i,s){t.logger.debug(`Jumping to percent of video: ${10*i}%`);const a=10*i+"%";n.displayTextAction(a,s);const l=i*(r.getDuration()/10);c(e,r,o.limitRange(0,r.getDuration(),l))}},2497:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShaktiActions=t.ShaktiClient=t.ShaktiUrl=void 0;const n=r(2177),o=r(4632),i=r(7892);var s;!function(e){e.GET_RECENT_HISTORY="/viewingactivity?pg=0",e.UPDATE_HISTORY="/viewingactivity",e.SET_THUMB_RATING="/setThumbRating",e.GET_RATING_HISTORY="/ratinghistory",e.GET_VIDEO_METADATA="/metadata",e.GET_PROFILE="/profiles"}(s=t.ShaktiUrl||(t.ShaktiUrl={}));class a{constructor(e,t){this.userPrefs=e,this.player=t}async updateThumbsRating(e){const t={titleId:this.player.getMovieId(),rating:e,authURL:this.getNetflixAuthUrl()};return this.sendShaktiRequest(s.SET_THUMB_RATING,t)}async getShaktiInfo(){const e={webp:!0,drmSystem:"widevine",isVolatileBillboardsEnabled:!0,routeAPIRequestsThroughFTL:!1,isTop10Supported:!0,categoryCraversEnabled:!0,hasVideoMerchInBob:!1,hasVideoMerchInJaw:!1,persoInfoDensity:!1,infoDensityToggle:!1,contextAwareImages:!0,enableMultiLanguageCatalog:!1,usePreviewModal:!0,movieid:this.player.getMovieId(),imageFormat:"webp",authURL:this.getNetflixAuthUrl(),withSize:!0,materialize:!0,_:Date.now()},t=Object.entries(e).reduce(((e,[t,r])=>e+(""===e?"":"&")+t+"="+r),""),r=s.GET_VIDEO_METADATA+"?"+t;return this.sendShaktiRequest(r,null)}async sendShaktiRequest(e,t){const r=this.getNetflixAuthUrl(),n=this.getShaktiBuildId(),o=this.player.getMovieId();if(!r||!n||!o){const e="Not enough info for API call";return this.userPrefs.logger.warn("Not enough info for API call. parameters:",{authUrl:r,shakti:n,movieId:o}),Promise.reject(new Error(e))}const i="https://www.netflix.com/api/shakti/"+n+e;let s;return null===t?(this.userPrefs.logger.trace("Sending GET request to",i),s=fetch(i)):(this.userPrefs.logger.trace(`Sending POST request to ${i} with body: ${t}`),s=fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})),s.then((e=>null==e?void 0:e.json()))}async sendPathEvaluatorRequest(e){const t=this.getNetflixAuthUrl(),r=this.getShaktiBuildId();if(!t||!r){const e="Not enough info for API call";return this.userPrefs.logger.warn("Not enough info for API call. parameters:",{authUrl:t,shakti:r}),Promise.reject(new Error(e))}const n=`https://www.netflix.com/nq/website/memberapi/${r}/pathEvaluator`,o={avif:!1,webp:!0,drmSystem:"widevine",isVolatileBillboardsEnabled:!0,routeAPIRequestsThroughFTL:!1,isTop10Supported:!0,isTop10KidsSupported:!0,hasVideoMerchInBob:!1,hasVideoMerchInJaw:!1,persoInfoDensity:!1,infoDensityToggle:!1,contextAwareImages:!0,enableMultiLanguageCatalog:!1,usePreviewModal:!0,falcor_server:"0.1.0",withSize:!0,materialize:!0,original_path:encodeURIComponent(`/shakti/${r}/pathEvaluator`)},i=n+"?"+Object.entries(o).reduce(((e,[t,r])=>e+(""===e?"":"&")+t+"="+r),"");let s;return null===e?(this.userPrefs.logger.trace("Sending GET request to",i),s=fetch(i,{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"*/*","x-netflix.osfullname":"Mac OS X","x-netflix.nq.stack":"prod","x-netflix.clienttype":"akira","x-netflix.osname":"Mac OS X","x-netflix.browserversion":"100","x-netflix.playerthroughputniqr":"0.9995026161196283","sec-ch-ua-platform":'"macOS"',"x-netflix.uiversion":r}})):(this.userPrefs.logger.trace(`Sending POST request to ${i} with body: ${e}`),s=fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})),s.then((e=>null==e?void 0:e.json()))}getShaktiBuildId(){return o.BrowserWindow.getWindowReference().netflix.appContext.state.model.models.serverDefs.data.BUILD_IDENTIFIER}getNetflixAuthUrl(){return o.BrowserWindow.getWindowReference().netflix.reactContext.models.userInfo.data.authURL}}t.ShaktiClient=a;t.ShaktiActions=class{static dumpShaktiInfo(e,t){new a(e,t).getShaktiInfo().then((t=>{e.logger.info("Video metadata:",t)})).catch((t=>{e.logger.warn("Failed to retrieve video metadata:",t)}))}static updateThumbsRating(e,t,r,n){const o=new a(e,t),s=r=>this.setSpecificThumbsRating(e,t,r,n);e.other.doubleRatingCancels?o.getShaktiInfo().then((o=>{o&&o.video&&o.video.userRating&&void 0!==o.video.userRating.userRating&&(e.logger.debug(`Fetched metadata, previous rating was ${i.ThumbsRating.toDisplayText(o.video.userRating.userRating)}, new rating is ${i.ThumbsRating.toDisplayText(r)}`),o.video.userRating.userRating==r?(e.logger.debug("Same rating again: deleting"),this.setSpecificThumbsRating(e,t,i.ThumbsRating.REMOVE,n)):(e.logger.debug("Different rating: setting directly"),s(r)))})).catch((()=>{e.logger.warn("Failed to get video metadata to find the previous rating"),s(r)})):s(r)}static setSpecificThumbsRating(e,t,r,o){new a(e,t).updateThumbsRating(r).then((t=>{const s=i.ThumbsRating.toDisplayText(r);e.logger.info(`Set rating for ${t.title}: ${s}`),n.displayTextAction(s,o)})).catch((t=>{e.logger.warn("Could not set rating:",t)}))}static shaktiGetProfile(e,t){new a(e,t).sendShaktiRequest(s.GET_PROFILE,null).then((t=>{e.logger.info("Profile:",t)}),(t=>{e.logger.warn("Failed to retrieve profile:",t)}))}static shaktiGetRatingsHistory(e,t){new a(e,t).sendShaktiRequest(s.GET_RATING_HISTORY,null).then((t=>{e.logger.info("Rating history:",t)})).catch((t=>{e.logger.warn("Failed to retrieve rating history:",t)}))}static shaktiGetViewingActivity(e,t){new a(e,t).sendShaktiRequest(s.GET_RECENT_HISTORY,null).then((t=>{e.logger.info("Viewing activity:",t)})).catch((t=>{e.logger.warn("Failed to retrieve viewing activity:",t)}))}}},3727:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShortcutRecorder=t.ShortcutStyles=t.ShortcutContainer=t.Shortcut=void 0;const n=r(8707);class o{constructor(e,t,r,n,o,i,s,a){this.ctrl=e,this.shift=t,this.alt=r,this.meta=n,this.digit=o,this.letter=i,this.code=s,this.key=a}static newEmpty(){return new o(!1,!1,!1,!1,!1,!1,null,null)}static simple(e){const t=1===e.length&&e>="0"&&e<="9",r=!t&&e.toUpperCase()===e,n=1===e.length&&(e>="a"&&e<="z"||e>="A"&&e<="Z"),i=t?"Digit"+e:n?"Key"+e.toUpperCase():e;return new o(!1,r,!1,!1,t,n,i,e)}static keyAndCode(e,t){return new o(!1,!1,!1,!1,!1,!1,t,e)}shifted(){const e=this.letter&&this.key&&1===this.key.length&&this.key>="a"&&this.key<="z";return new o(this.ctrl,!0,this.alt,this.meta,this.digit,this.letter,this.code,e?this.key.toUpperCase():this.key)}static fromJsonObject(e){const t=o.newEmpty();return Object.assign(t,e),t}isEmpty(){return!1===this.ctrl&&!1===this.shift&&!1===this.alt&&!1===this.meta&&!1===this.digit&&!1===this.letter&&null===this.code&&null===this.key}static fromKeyDownEvent(e){const t=e.ctrlKey,r=e.shiftKey,n=e.altKey,i=e.metaKey,s=e.code.startsWith("Digit"),a=e.code.startsWith("Key"),l=o.removeForbidden(e.code),u=o.removeForbidden(e.key);return new o(t,r,n,i,s,a,l,u)}static removeForbidden(e){return"CapsLock"===e?null:e}countBoolean(e){return e?1:0}length(){return this.countBoolean(this.ctrl)+this.countBoolean(this.shift)+this.countBoolean(this.alt)+this.countBoolean(this.meta)+this.countBoolean(this.digit)+this.countBoolean(this.letter)+this.countBoolean(!!this.code)+this.countBoolean(!!this.key)}hasAnyModifiers(){return this.ctrl||this.shift||this.alt||this.meta}usesArrowKey(){const e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];return!!this.code&&!!this.key&&e.some((e=>e===this.code))&&e.some((e=>e===this.key))}equals(e){return null!==e&&this.repr()===e.repr()}repr(){return"c="+this.booleanRepr(this.ctrl)+",s="+this.booleanRepr(this.shift)+",a="+this.booleanRepr(this.alt)+",m="+this.booleanRepr(this.meta)+",d="+this.booleanRepr(this.digit)+",l="+this.booleanRepr(this.letter)+",(code="+this.code+")(key="+this.key+")"}booleanRepr(e){return e?"T":"F"}}t.Shortcut=o;class i{constructor(e,t){this.element=e,this.shortcut=t,this.savedShortcut=null,this.onShortcutUpdated=null}}t.ShortcutContainer=i;class s{constructor(e,t,r){this.shortcutContainer=e,this.shortcutContainerSelected=t,this.shortcutKey=r}}t.ShortcutStyles=s;t.ShortcutRecorder=class{constructor(){this.cssClasses=new s("shortcut","shortcut-selected","shortcut-key"),this.background=null,this.containers=new Set,this.selectedContainer=null,this.deletingShortcut=null}addBackground(e){if(this.background)throw new Error("Background element has already been set");this.background=e,e.addEventListener("click",(()=>this.onBackgroundClick()))}addContainer(e,t,r){this.containers.forEach((t=>{if(t.element==e)throw new Error("Element is already tracked")}));const n=new i(e,t);return this.containers.add(n),e.addEventListener("click",(e=>this.onShortcutInputClick(e))),r&&(n.onShortcutUpdated=r),t&&this.displayShortcutInContainer(n),n}setCssClasses(e){if(!e.shortcutContainer||!e.shortcutContainerSelected||!e.shortcutKey)throw new Error("Invalid styles: all fields must be set")}getAllContainerElements(){return Array.from(this.containers.values()).map((e=>e.element))}getContainerByElement(e){return Array.from(this.containers.values()).find((t=>t.element==e))||null}removeContainerByElement(e){let t=null;for(const r of this.containers.values())if(r.element==e){t=r;break}t&&this.containers.delete(t)}startListeningForEvents(){document.addEventListener("keydown",(e=>this.onKeyDown(e))),document.addEventListener("keyup",(e=>this.onKeyUp(e)))}setDeletingShortcut(e){this.deletingShortcut=e}onBackgroundClick(){this.deselectCurrentlySelectedElement()}deselectCurrentlySelectedElement(){this.selectedContainer&&(this.selectedContainer.element.classList.remove(this.cssClasses.shortcutContainerSelected),this.selectedContainer.shortcut&&this.selectedContainer.shortcut.isEmpty()&&this.selectedContainer.savedShortcut&&(this.selectedContainer.shortcut=this.selectedContainer.savedShortcut,this.selectedContainer.savedShortcut=null,this.displayShortcutInContainer(this.selectedContainer)),this.selectedContainer=null)}onShortcutInputClick(e){const t=e.target;if(!t||!t.classList.contains(this.cssClasses.shortcutContainer))return;const r=this.getContainerByElement(t);r&&(r!=this.selectedContainer&&(this.selectedContainer&&this.deselectCurrentlySelectedElement(),t.classList.add(this.cssClasses.shortcutContainerSelected),this.selectedContainer=r,r.savedShortcut=r.shortcut,r.shortcut=o.newEmpty()),e.stopPropagation())}onKeyDown(e){if(!this.selectedContainer)return;const t=o.fromKeyDownEvent(e);"Escape"!==t.key||t.hasAnyModifiers()?this.selectedContainer.shortcut&&this.selectedContainer.shortcut.length()>t.length()||(this.selectedContainer.shortcut=t,this.displayShortcutInContainer(this.selectedContainer),e.preventDefault()):this.onBackgroundClick()}onKeyUp(e){this.selectedContainer&&(e.ctrlKey||e.shiftKey||e.metaKey||e.altKey||(this.selectedContainer.shortcut&&this.selectedContainer.shortcut.equals(this.deletingShortcut)&&(this.selectedContainer.shortcut=o.newEmpty(),this.displayShortcutInContainer(this.selectedContainer)),this.selectedContainer.onShortcutUpdated&&this.selectedContainer.shortcut&&this.selectedContainer.onShortcutUpdated(this.selectedContainer.shortcut),this.selectedContainer.element.classList.remove(this.cssClasses.shortcutContainerSelected),this.selectedContainer=null,e.preventDefault()))}displayShortcutInContainer(e){const t=e.element;t.innerHTML="";const r=e.shortcut||o.newEmpty();this.deletingShortcut&&r.equals(this.deletingShortcut)||(r.ctrl&&this.addBlock(t,"Ctrl"),r.alt&&this.addBlock(t,n.Portability.altKey()),r.meta&&this.addBlock(t,n.Portability.metaKey()),r.shift&&this.addBlock(t,"\u21e7"),r.digit&&r.code?this.addBlock(t,r.code.substring("Digit".length)):r.letter&&r.code?this.addBlock(t,r.code.substring("Key".length)):r.key&&!this.isModifier(r.key)&&this.addBlock(t,this.keyToString(r.key,r.code)))}addBlock(e,t){const r=document.createElement("div");r.classList.add(this.cssClasses.shortcutKey),r.innerText=t,e.appendChild(r)}isModifier(e){return"Control"===e||"Alt"===e||"Meta"===e||"Shift"===e}keyToString(e,t){return"Backspace"===e?"\u232b":"Enter"===e?"\u21b5":"Backslash"===t?"\\":"Backquote"===t?"`":"Escape"===t?"\u238b":"Insert"===t?"Ins":"Delete"===t?"\u2326":"PageUp"===e?"\u21de":"PageDown"===e?"\u21df":"Space"===t?"\u2423":"Tab"===t?"\u21b9":"BracketLeft"===t?"[":"BracketRight"===t?"]":"ArrowLeft"===t?"\u2190":"ArrowRight"===t?"\u2192":"ArrowUp"===t?"\u2191":"ArrowDown"===t?"\u2193":"Home"===t?"\u2196":"End"===t?"\u2198":e||""}}},5957:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.infoPanelIsVisible=t.hideInfoPanel=t.showInfoPanel=void 0;const n=r(2177),o=r(2556),i=r(5952),s=r(2497),a=r(8593);function l(e,t){const r=t.render(),n=a.findRootElementForOverlay();n&&(n.insertAdjacentHTML("beforeend",r),e.setInfoOverlay(t),t.initialize())}t.showInfoPanel=function(e,t,r,a){r.pause(),n.displayTextAction("\u2139\ufe0f",a);const u=new s.ShaktiClient(e,r),c=e=>u.updateThumbsRating(e);u.getShaktiInfo().then((r=>{"show"===r.video.type?l(t,new o.ShowInfoOverlay(r.video,e,c)):"movie"===r.video.type||"supplemental"===r.video.type?l(t,new i.MovieInfoOverlay(r.video,e,c)):e.logger.warn("Unknown video type:",r.video.type)})).catch((t=>{e.logger.warn("Failed to retrieve viewing activity",t)}))},t.hideInfoPanel=function(e){var t,r;n.displayTextAction("\u2139\ufe0f",e),null===(t=document.getElementById(o.ShowInfoOverlay.OVERLAY_ELEMENT_ID))||void 0===t||t.remove(),null===(r=document.getElementById(i.MovieInfoOverlay.OVERLAY_ELEMENT_ID))||void 0===r||r.remove()},t.infoPanelIsVisible=function(){return null!==document.getElementById(o.ShowInfoOverlay.OVERLAY_ELEMENT_ID)||null!==document.getElementById(i.MovieInfoOverlay.OVERLAY_ELEMENT_ID)}},6247:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubtitlesSize=void 0;const n=r(9692);class o{constructor(e,t,r,n){this.storageId=e,this.netflixString=t,this.displayStringKey=r,this.feedbackStringKey=n}static allInstances(){return[o.SMALL,o.MEDIUM,o.LARGE]}static fromNetflixString(e){return o.allInstances().find((t=>t.getNetflixString()===e))||o.MEDIUM}getNetflixString(){return this.netflixString}getDisplayString(){return n._t(this.displayStringKey)}equals(e){return this.storageId===e.storageId}nextSubtitlesSize(){const e=this.storageId%o.allInstances().length+1;return o.fromStorageId(e)}static fromStorageId(e){return o.allInstances().find((t=>t.storageId===e))||o.MEDIUM}getStorageId(){return this.storageId}toFeedbackString(){return n._t(this.feedbackStringKey)}toString(){return this.netflixString.toLowerCase()}}t.SubtitlesSize=o,o.SMALL=new o(1,"SMALL","subtitles.size.small","subtitles.feedback.small"),o.MEDIUM=new o(2,"MEDIUM","subtitles.size.medium","subtitles.feedback.medium"),o.LARGE=new o(3,"LARGE","subtitles.size.large","subtitles.feedback.large")},5161:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subtitlesAreDisabled=t.setCurrentSubtitlesSize=t.useNextSubtitlesSize=t.selectNeighborAudioTrack=t.selectNeighborSubtitlesTrack=t.usePreferredSubtitlesSizeIfNeverChanged=t.toggleSubtitlesOnOff=t.debugSubtitles=t.findPreferredTextTrack=t.findSubtitlesTrackMatchingPreference=t.findSubtitlesOffTrack=void 0;const n=r(2694),o=r(2177),i=r(8593),s=r(9692),a=r(6247);r(4632);function l(e,t,r=!0){const n=[{description:'"Off" displayName',search:e=>"Off"===e.displayName},{description:"noneTrack set",search:e=>e.isNoneTrack},{description:"forcedNarrative set",search:e=>e.isForcedNarrative},{description:'";1;1;0;" ending in trackId',search:e=>e.trackId&&e.trackId.endsWith(";1;1;0;")},{description:"no other choice, the first one",search:e=>!0}];for(const{description:o,search:i}of n){const n=t.findIndex(i);if(-1!==n)return r&&e.logger.traceNoStack(`Found track with ${o}:`,t[n]),t[n]}return null}function u(e,t,r,n=!1,o=!0){e.logger.traceNoStack(`findSubtitlesTrackMatchingPreference(language=${r}, allowOffTrack=${n})`);let i=function(e,t){const r=s._t("language.preferred_subtitles_code"),n=l(e,t,!1),o=t.filter((e=>{var t;return e.trackId!==(null==n?void 0:n.trackId)&&(e.bcp47===r||(null===(t=e.bcp47)||void 0===t?void 0:t.startsWith(r+"-")))})),i=o.findIndex((e=>"PRIMARY"===e.trackType));return-1!==i?o[i]:o.length>0?o[0]:null}(e,t),a=0;for(let s=0;s<t.length;s++){if(!n&&"Off"===t[s].displayName)continue;const l=(u=t[s],c=r||"","Off"===u.displayName&&"Off"===c?3:u.bcp47===c?"PRIMARY"===u.trackType?2:1:-1),d=l>=a,p=l==a,f=null!==i&&"PRIMARY"!==i.trackType&&"PRIMARY"===t[s].trackType;(null===i||d||p&&f)&&(a=l,i=t[s],o&&e.logger.traceNoStack(`Best choice so far looking for "${r}":`,i))}var u,c;return i}function c(e,t,r){if(null===e.lastSelectedSubtitlesSize){const o=a.SubtitlesSize.fromStorageId(t.subtitles.preferredSize);t.logger.debug(`First time! Applying custom subtitles size: ${o.getDisplayString()}`),d(e,t,o,r,n.TextAction.none)}}function d(e,t,r,n,i,s=!0){s&&t.logger.debug(`Changing subtitles size to ${r.toString()}`);let a={bounds:void 0,size:r.getNetflixString(),visibility:!0};n.setTimedTextSettings(a),o.displayTextAction(r.toFeedbackString(),i),e.lastSelectedSubtitlesSize=r}function p(e,t){return null!==e&&null!==t&&e.displayName===t.displayName}function f(e){return e==n.TextAction.circle?n.TextAction.rounded:e}t.findSubtitlesOffTrack=l,t.findSubtitlesTrackMatchingPreference=u,t.findPreferredTextTrack=function(e,t,r){e.logger.debug(`Looking for preferred track (choice: ${r})`);const n=t.getTimedTextTrackList();let o=u(e,n,r);if(e.logger.debug(`Preferred track: ${o?o.displayName:"NULL"}`),!o&&n.length>0){const t=s._t("language.preferred_subtitles");if(e.logger.warn(r===t?`Could not find subtitles in ${t}`:`Could not find subtitles in ${r}, defaulting to ${t}`),o=u(e,n,t),!o){r!==t&&e.logger.warn(`Could not find subtitles in ${t} either\u2026`);const i=u(e,n,"en");o=i||(n.length>1?n[1]:{})}}return o},t.debugSubtitles=function(e,t){0},t.toggleSubtitlesOnOff=function(e,t,r,n){const i=t.subtitles.defaultLanguage,s=r.getTimedTextTrack(),a=l(t,r.getTimedTextTrackList());p(s,a)?e.cachedSubs.lastSelectedTextTrack&&e.cachedSubs.lastSelectedTextTrack.displayName!==(null==a?void 0:a.displayName)?(t.logger.debug(`Switching back to last selected track: ${e.cachedSubs.lastSelectedTextTrack.displayName}`),r.setTimedTextTrack(e.cachedSubs.lastSelectedTextTrack),o.displayTextAction("\u{1f4ac}",n),c(e,t,r)):e.cachedSubs.preferredTextTrack?(t.logger.debug("Switching to preferred language:",e.cachedSubs.preferredTextTrack.displayName),r.setTimedTextTrack(e.cachedSubs.preferredTextTrack),o.displayTextAction("\u{1f4ac}",n),c(e,t,r)):t.logger.warn("No last selected subtitles track to go back to, and couldn't find subtitles in the preferred language:",i):a?(t.logger.debug("Turning subtitles off"),r.setTimedTextTrack(a),o.displayTextAction("\u{1f4ad}",n)):t.logger.warn("Could not find which text track to select"),e.cachedSubs.lastSelectedTextTrack=s},t.usePreferredSubtitlesSizeIfNeverChanged=c,t.selectNeighborSubtitlesTrack=function(e,t,r,n){const s=t.getTimedTextTrackList(),a=t.getTimedTextTrack();s&&a||e.logger.warn("Could not find the current subtitles track or the list of subtitles tracks");for(let l=0;l<s.length;l++)if(a.trackId===s[l].trackId){const a=s[i.nextOffset(l,r,s.length)];return e.logger.debug(`Switching subtitles track to ${a.displayName}`),o.displayTextAction(a.displayName||"",f(n)),void t.setTimedTextTrack(a)}},t.selectNeighborAudioTrack=function(e,t,r,n){const s=t.getAudioTrackList(),a=t.getAudioTrack();s&&a||e.logger.warn("Could not find the current audio track or the list of audio tracks");for(let l=0;l<s.length;l++)if(a.displayName===s[l].displayName){const a=s[i.nextOffset(l,r,s.length)];return e.logger.debug(`Switching audio track to ${a.displayName}`),o.displayTextAction(a.displayName,f(n)),void t.setAudioTrack(a)}e.logger.error(r>0?"Unable to find next audio track":"Unable to find previous audio track")},t.useNextSubtitlesSize=function(e,t,r,n){const o=r.getTimedTextSettings();if(o&&o.size){d(e,t,a.SubtitlesSize.fromNetflixString(o.size).nextSubtitlesSize(),r,n)}else t.logger.error("Unable to find current subtitles size")},t.setCurrentSubtitlesSize=d,t.subtitlesAreDisabled=p},2177:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.displayTextAction=t.installStyleBlock=void 0;const n=r(2694),o=r(8593);function i(e){const t=document.querySelector("div.scrubber-container");if(!t)return;const r={bubbles:!0,button:0,currentTarget:t};t.dispatchEvent(new MouseEvent(e,r))}function s(e){e.parentNode&&e.parentNode.contains(e)&&e.parentNode.removeChild(e)}t.installStyleBlock=function(e){const t=document.createElement("style");t.textContent=e;const r=document.querySelector("body");r&&r.appendChild(t)},t.displayTextAction=function(e,t){if(t==n.TextAction.none)return;const r=o.findRootElementForOverlay();if(!r)return;document.querySelectorAll("h1.nfkbd-text").forEach(s);const a=document.createElement("h1"),l=function(e){switch(e){case n.TextAction.simple:return"nfkbd-no-border";case n.TextAction.circle:return"nfkbd-circled";case n.TextAction.rounded:return"nfkbd-rounded"}throw new Error(`Invalid text action: ${e}`)}(t);a.classList.add("nfkbd-text",l),a.innerHTML=e,i("mouseover"),setTimeout((function(){i("mouseout"),setTimeout((function(){r.appendChild(a),setTimeout((function(){s(a)}),675)}),20)}),20)}},7892:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThumbsRating=void 0,function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.REMOVE=0]="REMOVE",e[e.DISLIKE=1]="DISLIKE",e[e.LIKE=2]="LIKE"}(t.ThumbsRating||(t.ThumbsRating={})),function(e){e.toDisplayText=function(t){switch(t){case e.REMOVE:return"\u{1f6ab}";case e.DISLIKE:return"\u{1f44e}";case e.LIKE:return"\u{1f44d}";default:return""}},e.fromNumber=function(t){switch(t){case 0:return e.REMOVE;case 1:return e.DISLIKE;case 2:return e.LIKE;default:return e.UNKNOWN}}}(t.ThumbsRating||(t.ThumbsRating={}))},2694:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.corruptUserPrefs=t.isSingleNumberKeyPress=t.UserPrefs=t.SavePoint=t.TimeSkip=t.KeyBinding=t.BookmarkRestoreAction=t.TextAction=void 0;const o=r(3727),i=r(5570),s=r(6501),a=n(r(3465)),l=n(r(2307)),u=r(8707),c=r(9242),d=r(6247);var p,f;!function(e){e[e.none=1]="none",e[e.simple=2]="simple",e[e.circle=3]="circle",e[e.rounded=4]="rounded"}(p=t.TextAction||(t.TextAction={})),function(e){e[e.startPlaying=1]="startPlaying",e[e.keepCurrentState=2]="keepCurrentState",e[e.preserveSavedState=3]="preserveSavedState"}(f=t.BookmarkRestoreAction||(t.BookmarkRestoreAction={}));class h{constructor(e,t=p.none){this.shortcut=e,this.feedback=t}static fromJsonObject(e){return new h(o.Shortcut.fromJsonObject(e.shortcut),e.feedback)}static matchesEvent(e,t,r){const n=o.Shortcut.fromKeyDownEvent(r),i=Array.isArray(t.shortcut)?t.shortcut:[t.shortcut];for(const t of i)if(n.equals(t))return g(e,t,r),y(r),!0;return!1}}function y(e){e.preventDefault(),e.stopPropagation()}function g(e,t,r){e.logger.trace("Matched shortcut",t,"for event",r)}t.KeyBinding=h;class m{constructor(e,t,r){this.shortcut=e,this.deltaSec=t,this.enabled=r}static fromJsonObject(e){return new m(o.Shortcut.fromJsonObject(e.shortcut),e.deltaSec,e.enabled)}}t.TimeSkip=m;t.SavePoint=class{constructor(e,t){this.time=e,this.playing=t}};class v{constructor(e,t,r,n,o,s,a,l,u){this.savedAt=e,this.logLevel=t,this.logger=new i.Logger(t),this.keys=r,this.numberPercents=n,this.timeSkips=o,this.bookmarks=s,this.subtitles=a,this.other=l,this.audio=u}static load(e){u.BrowserStorage.get("prefs",(t=>{if(t.prefs){const r=v.validateAndRebuildUserPrefsObjects(t.prefs);e(r)}else v.initStorage(e)}))}static initStorage(e){const t=v.create();t.logger.info("[UserPrefs::initStorage] create returned",t),u.BrowserStorage.set({prefs:t},(()=>{e(t)}))}static create(){return new v(Date.now(),i.LogLevel.INFO,{playPause:new h(o.Shortcut.simple("k"),p.simple),speedFaster:new h(o.Shortcut.keyAndCode(">","Period").shifted(),p.circle),speedSlower:new h(o.Shortcut.keyAndCode("<","Comma").shifted(),p.circle),frameNext:new h(o.Shortcut.keyAndCode(".","Period"),p.none),framePrev:new h(o.Shortcut.keyAndCode(",","Comma"),p.none),nextEpisode:new h(o.Shortcut.simple("N"),p.none),prevEpisode:new h(o.Shortcut.simple("P"),p.none),pictureInPicture:new h(o.Shortcut.simple("p"),p.none),subtitlesOnOff:new h(o.Shortcut.simple("c"),p.none),subtitlesSize:new h(o.Shortcut.simple("s"),p.circle),subtitlesNextLang:new h(o.Shortcut.simple("v"),p.simple),subtitlesPrevLang:new h(o.Shortcut.simple("V"),p.simple),audioNextLang:new h(o.Shortcut.simple("a"),p.simple),audioPrevLang:new h(o.Shortcut.simple("A"),p.simple),muteOnOff:new h(o.Shortcut.newEmpty(),p.none),volumeUp:new h(o.Shortcut.keyAndCode("PageUp","PageUp"),p.none),volumeDown:new h(o.Shortcut.keyAndCode("PageDown","PageDown"),p.none),statsForNerds:new h(o.Shortcut.simple("d"),p.none),viewHistory:new h(o.Shortcut.simple("h"),p.none),showInfo:new h(o.Shortcut.simple("i"),p.none),timeSkipBinding:new h(o.Shortcut.newEmpty(),p.simple),bookmarkBackup:new h(o.Shortcut.simple("b"),p.simple),bookmarkDelete:new h(o.Shortcut.simple("B"),p.simple),bookmarkRestore:new h(o.Shortcut.simple("r"),p.simple),thumbsLike:new h(o.Shortcut.keyAndCode("=","Equal"),p.simple),thumbsDislike:new h(o.Shortcut.keyAndCode("-","Minus"),p.simple),thumbsRemove:new h(o.Shortcut.keyAndCode("Backspace","Backspace").shifted(),p.simple)},{enabled:!0,feedback:p.circle},[new m(o.Shortcut.simple("j"),-10,!0),new m(o.Shortcut.simple("l"),10,!0),new m(o.Shortcut.simple("J"),-60,!0),new m(o.Shortcut.simple("L"),60,!0),new m(o.Shortcut.keyAndCode("[","BracketLeft"),-5,!0),new m(o.Shortcut.keyAndCode("]","BracketRight"),5,!0),new m(o.Shortcut.keyAndCode("{","BracketLeft").shifted(),-1,!0),new m(o.Shortcut.keyAndCode("}","BracketRight").shifted(),1,!0)],{savePoints:{},playAction:f.keepCurrentState},{defaultLanguage:"en",preferredSize:d.SubtitlesSize.MEDIUM.getStorageId()},{skipIntroEnabled:!0,skipRecapEnabled:!1,playNextEpisodeEnabled:!0,doubleRatingCancels:!1,speedDelta:5},{volumeDelta:5})}static validateAndRebuildUserPrefsObjects(e,t=!1){const r=a.default(e),n=Object.create(v.prototype),o=v.create();Object.assign(n,e),n.logLevel&&"number"==typeof n.logLevel||(n.logLevel=o.logLevel),n.logger=new i.Logger(n.logLevel);v.validateUserPrefsObject(n)||(n.logger.warn("Replacing saved user preferences with clean slate"),Object.assign(n,o));for(const e in o.keys)e in n.keys||(o.logger.warn(`Missing "key" field in user preferences: ${e}`),n.keys[e]=o.keys[e]);n.bookmarks&&n.bookmarks.savePoints||(o.logger.warn('Invalid "bookmarks" field in user preferences, replacing.'),n.bookmarks=o.bookmarks),n.subtitles?("defaultLanguage"in n.subtitles||(o.logger.warn('Invalid "subtitles" field in user preferences, replacing.'),n.subtitles.defaultLanguage=o.subtitles.defaultLanguage),"preferredSize"in n.subtitles||(o.logger.warn('Invalid "preferredSize" field in user preferences, replacing.'),n.subtitles.preferredSize=o.subtitles.preferredSize)):n.subtitles=o.subtitles,"number"!=typeof n.subtitles.preferredSize&&(n.subtitles.preferredSize=o.subtitles.preferredSize),n.other?("skipIntroEnabled"in n.other||(o.logger.warn('Missing "other.skipIntroEnabled" field in user preferences, replacing.'),n.other.skipIntroEnabled=o.other.skipIntroEnabled),"skipRecapEnabled"in n.other||(o.logger.warn('Missing "other.skipRecapEnabled" field in user preferences, replacing.'),n.other.skipRecapEnabled=o.other.skipRecapEnabled),"playNextEpisodeEnabled"in n.other||(o.logger.warn('Missing "other.playNextEpisodeEnabled" field in user preferences, replacing.'),n.other.playNextEpisodeEnabled=o.other.playNextEpisodeEnabled),"speedDelta"in n.other||(o.logger.warn('Missing "other.speedDelta" field in user preferences, replacing.'),n.other.speedDelta=o.other.speedDelta)):(o.logger.info('Missing "other" field in user preferences, replacing.'),n.other=o.other),n.audio&&"volumeDelta"in n.audio||(o.logger.warn('Invalid "audio" field in user preferences, replacing.'),n.audio=o.audio);for(const e of Object.keys(n.keys))n.keys[e]&&!h.prototype.isPrototypeOf(n.keys[e])&&(n.keys[e]=h.fromJsonObject(n.keys[e]));for(let e=0;e<n.timeSkips.length;e++)n.timeSkips[e]&&!m.prototype.isPrototypeOf(n.timeSkips[e])&&(n.timeSkips[e]=m.fromJsonObject(n.timeSkips[e]));const l=Object.keys(n);for(const e of l)e in o||delete n[e];return v.prototype.isPrototypeOf(n)?(t||v.isEqualWithoutLogger(n,r)||v.saveUserPrefsIfPossible(n),n):s.convertType(n,v.prototype)}static isEqualWithoutLogger(e,t){const r=a.default(e);delete r.logger;const n=a.default(t);return delete n.logger,l.default(r,n)}static saveUserPrefsIfPossible(e){e.logger&&e.logger.info("Saving restored user preferences");{const t=new CustomEvent(c.ContentToBackgroundEvents.SAVE_PREFS,{detail:{action:"saveUserPrefs",prefs:JSON.stringify(e)}});window.dispatchEvent(t)}}static validateUserPrefsObject(e){const t=e,r=v.create(),n=r.logger,o=Object.keys(r).filter((e=>"logger"!==e&&"savedAt"!==e));try{for(const n of o){if(!(n in e))throw new Error(`missing field "${n}"`);const o=t[n];if(null===o)throw new Error(`null field "${n}"`);const i=typeof r[n],s=typeof o;if(i!==s)throw new Error(`type mismatch for field "${n}": expected "${i}", found "${s}"`)}return!0}catch(e){return n.warn(`Invalid user prefs: ${e.message}`),!1}}static getTimeSkipForShortcut(e,t){return e.timeSkips.find((e=>t.equals(e.shortcut)))||null}static save(e,t=(()=>{})){e.logger&&e.logger.debug("[UserPrefs::save]");const r=a.default(e);delete r.logger,u.BrowserStorage.set({prefs:r},t)}}t.UserPrefs=v,t.isSingleNumberKeyPress=function(e,t){const r=o.Shortcut.fromKeyDownEvent(t),n=[...Array(10).keys()].map((e=>o.Shortcut.simple(e.toString()))).some((e=>e.equals(r)));return n&&(g(e,r,t),y(t)),n},t.corruptUserPrefs=function(e){const t=e.logger;t.info("corruptUserPrefs!");const r={foo:123,bar:"abc",keys:[]};u.BrowserStorage.set({prefs:r},(()=>{t.info('Set "prefs" to',r)}))}},8593:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findRootElementForOverlay=t.togglePlayPause=t.togglePictureInPicture=t.toggleDebugPanel=t.longPauseResume=t.longPauseIsEnabled=t.getVideoTag=t.getPlayer=t.getDeepProperty=t.limitRange=t.nextOffset=void 0;const n=r(2177),o=r(4632);function i(){return document.querySelector('div.watch-video button[aria-label="Play"].large')}t.nextOffset=function(e,t,r){return(e+t+r)%r},t.limitRange=function(e,t,r){return Math.max(e,Math.min(t,r))},t.getDeepProperty=function(e,t){if(void 0===e)return null;if("object"!=typeof e)return e;let r=e;for(const e of t.split(".")){const t=e.endsWith("()"),n=t?e.substring(0,e.length-2):e;if(!r[n])return null;r=r[n],t&&"function"==typeof r&&(r=r())}return r},t.getPlayer=function(){var e,t,r,n;const i=o.BrowserWindow.getWindowReference();if(!("netflix"in i))return null;const s=i.netflix,a=null===(n=null===(r=null===(t=null===(e=null==s?void 0:s.appContext)||void 0===e?void 0:e.state)||void 0===t?void 0:t.playerApp)||void 0===r?void 0:r.getAPI())||void 0===n?void 0:n.videoPlayer;if(a&&a.getVideoPlayerBySessionId&&a.getAllPlayerSessionIds){let e=a.getAllPlayerSessionIds();0;const t=e.filter((e=>e.startsWith("watch-")));if(t.length>0)return a.getVideoPlayerBySessionId(t[0]);if(e.length>0)return a.getVideoPlayerBySessionId(e[0])}return null},t.getVideoTag=function(){const e=document.getElementsByTagName("video");return e&&1===e.length?e[0]:null},t.longPauseIsEnabled=function(e){return null!==i()&&e.isPaused()&&!e.isReady()&&function(e){const t=e.getError();return null!==t&&t.messageIdList&&-1!==t.messageIdList.indexOf("pause_timeout")}(e)},t.longPauseResume=function(){const e=i();e&&e.click()},t.toggleDebugPanel=function(e){n.displayTextAction("\u{1f916}",e),o.BrowserWindow.getWindowReference().netflix.player.diag.togglePanel("info",null)},t.togglePictureInPicture=function(e,t,r){const o=document;o.pictureInPictureElement?(n.displayTextAction("\u{1f39e}",r),o.exitPictureInPicture()):t?(n.displayTextAction("\u{1f39e}",r),t.requestPictureInPicture()):e.logger.error("Could not find a <video> tag to start PiP")},t.togglePlayPause=function(e,t){n.displayTextAction(t.getPaused()?"&#x25B6;":"II",e.keys.playPause.feedback),t.getPaused()?t.play():t.pause()},t.findRootElementForOverlay=function(){return document.fullscreenElement||document.querySelector("div.watch-video")||document.querySelector("body")}},9728:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleMuteVolume=t.changeVolume=void 0;const n=r(8593),o=r(2177);t.changeVolume=function(e,t,r,i,s){r>0&&"ArrowUp"===i||r<0&&"ArrowDown"===i?e.logger.warn("Netflix already handles this key press, we can't disable their handling"):t.setVolume(n.limitRange(0,1,t.getVolume()+.01*r*e.audio.volumeDelta)),e.audio.volumeDelta>0&&o.displayTextAction(r>0?"\u{1f50a}":"\u{1f509}",s)},t.toggleMuteVolume=function(e,t,r,n){if("m"===r)e.logger.warn('Netflix already mutes with "m"');else{const e=t.getMuted();t.setMuted(!e),o.displayTextAction(e?"\u{1f508}":"\u{1f507}",n)}}},2473:e=>{"use strict";var t=function(){};e.exports=t},4654:()=>{}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);(()=>{"use strict";const e=r(2694),t=r(8593),n=r(2177),o=r(8232),i=r(2629),s=r(9242),a=r(5161),l=r(9671),u=r(4991),c=r(5957),d=r(6247);class p{constructor(){this.lastExpectedTimeMillis=null,this.savedPlaybackRate=null,this.watchedVideoElement=null,this.cachedSubs={lastSelectedTextTrack:null,preferredTextTrack:null,disabledTextTrack:null},this.lastSelectedSubtitlesSize=null,this.infoOverlay=null,this.historyOverlay=null,this.savedUserPrefs=e.UserPrefs.create(),this.locationHref=window.location.href,this.attachEventListeners()}attachEventListeners(){window.addEventListener(s.BackgroundToContentEvents.START,(e=>this.onUserPrefsInitialize(e))),window.addEventListener(s.BackgroundToContentEvents.UPDATE_PREFS,(e=>this.onUserPrefsUpdate(e)))}onUserPrefsInitialize(t){l.LanguageDispatch.configureLanguageForLocale(t.detail.locale);const r=e.UserPrefs.validateAndRebuildUserPrefsObjects(JSON.parse(t.detail.prefs));this.savedUserPrefs=r,r.logger.isDebugEnabled()?r.logger.debug("Loaded settings (received start message) -- event:",t):r.logger.info("Loaded settings"),this.attachDebugObjectsIfNeeded(),n.installStyleBlock(t.detail.overlayCss),setInterval((()=>this.periodicCallback()),100)}onKeyDownEvent(e){const r=t.getVideoTag(),n=t.getPlayer();r&&n&&this.savedUserPrefs&&(this.attachDebugObjectsIfNeeded(),o.handleUserEvent(this,this.savedUserPrefs,r,n,e))}onUserPrefsUpdate(t){const r=e.UserPrefs.validateAndRebuildUserPrefsObjects(JSON.parse(t.detail.prefs),!0);this.savedUserPrefs=r,r.logger.isDebugEnabled()?r.logger.debug("Applying new settings (received update-prefs message) -- event:",t):r.logger.info("Applying new settings"),null!==this.infoOverlay&&this.infoOverlay.updateUserPrefs(r),this.attachDebugObjectsIfNeeded()}getUserPrefs(){return this.savedUserPrefs}periodicCallback(){this.detectWhenVideoTagChanges(),this.findPreferredSubtitlesTrack(),this.installPlayPauseCallbacks(),this.applyPreferredSubtitlesSizeIfNeeded(),this.detectUrlChange(),i.reapplyPlaybackRate(this,this.getUserPrefs()),i.clickSkipOrNextButtonIfFound(this.getUserPrefs())}detectWhenVideoTagChanges(){const e=t.getVideoTag();if(!e)return;const r=this.savedUserPrefs;e&&this.watchedVideoElement&&e!=this.watchedVideoElement&&(r.logger.info("Video changed! Re-initializing shortcuts app"),this.lastExpectedTimeMillis=null,this.savedPlaybackRate=null,this.watchedVideoElement=null,this.cachedSubs={lastSelectedTextTrack:null,preferredTextTrack:null,disabledTextTrack:null},this.lastSelectedSubtitlesSize=null,this.closeAnyOverlay())}detectUrlChange(){this.locationHref!==window.location.href&&(this.locationHref=window.location.href,this.onLocationChanged())}onLocationChanged(){this.closeAnyOverlay()}closeAnyOverlay(){u.historyPanelIsVisible()&&u.hideHistoryPanel(e.TextAction.none),c.infoPanelIsVisible()&&c.hideInfoPanel(e.TextAction.none)}findPreferredSubtitlesTrack(){const e=this.savedUserPrefs,r=t.getPlayer();if(null===this.cachedSubs.preferredTextTrack&&r){const t=a.findPreferredTextTrack(e,r,e.subtitles.defaultLanguage);null!==t?(this.cachedSubs.preferredTextTrack=t,e.logger.traceNoStack("Found preferred text track:",this.cachedSubs.preferredTextTrack)):e.logger.traceNoStack(`No text track found matching preferences ("${e.subtitles.defaultLanguage}"), so far`)}}attachDebugObjectsIfNeeded(){0}onPlaybackResumes(){this.lastExpectedTimeMillis=null,this.savedUserPrefs.logger.traceNoStack("Playback resumed: removed saved lastExpectedTimeMillis")}onPlaybackPauses(){var e;this.lastExpectedTimeMillis=(null===(e=t.getPlayer())||void 0===e?void 0:e.getCurrentTime())||null,this.savedUserPrefs.logger.traceNoStack("Playback paused: saved lastExpectedTimeMillis as:",this.lastExpectedTimeMillis)}installPlayPauseCallbacks(){const e=t.getVideoTag();!e||null!=this.watchedVideoElement&&this.watchedVideoElement==e||(this.savedUserPrefs.logger.traceNoStack("Adding playback-resumes and playback-paused event listeners to video tag"),e.addEventListener("play",(()=>this.onPlaybackResumes())),e.addEventListener("pause",(()=>this.onPlaybackPauses())),this.watchedVideoElement=e)}applyPreferredSubtitlesSizeIfNeeded(){if(null!==this.lastSelectedSubtitlesSize)return;const r=t.getPlayer();if(null===r)return;const n=this.savedUserPrefs.logger,o=r.getTimedTextTrack(),i=this.findAndCacheDisabledSubtitlesTrack(r);if(!a.subtitlesAreDisabled(o,i)){let t=null;try{t=r.getTimedTextSettings().size}catch(e){return}const o=d.SubtitlesSize.fromNetflixString(t),i=d.SubtitlesSize.fromStorageId(this.savedUserPrefs.subtitles.preferredSize);o.equals(i)||(n.debug(`Adjusting subtitles size to user preference (${i.getDisplayString()})`),a.setCurrentSubtitlesSize(this,this.savedUserPrefs,i,r,e.TextAction.none,!1))}}findAndCacheDisabledSubtitlesTrack(e){return null===this.cachedSubs.disabledTextTrack&&(this.cachedSubs.disabledTextTrack=a.findSubtitlesOffTrack(this.savedUserPrefs,e.getTimedTextTrackList(),!1)),this.cachedSubs.disabledTextTrack}getInfoOverlay(){return this.infoOverlay}setInfoOverlay(e){this.infoOverlay=e}getHistoryOverlay(){return this.historyOverlay}setHistoryOverlay(e){this.historyOverlay=e}}let f=null;document.addEventListener("keydown",(e=>{null==f||f.onKeyDownEvent(e)})),f=new p})()})();